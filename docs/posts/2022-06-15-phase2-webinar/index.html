<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { color: #00769e; background-color: #f1f3f5; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span { color: #00769e; } /* Normal */
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #657422; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #00769e; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #00769e; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #00769e; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
<title>Data Analysis Hub: Webinar: Did COVID-19 Impact Contraceptive Use?</title>

<meta property="description" itemprop="description" content="Breakout sessions for both R and Stata users show how to use panel data from IPUMS PMA to model contraceptive adoption and discontinuation during the first year of the pandemic."/>

<link rel="canonical" href="https://ipums.github.io/pma-data-hub/posts/2022-06-15-phase2-webinar/"/>
<link rel="icon" type="image/png" href="../../images/favicon/favicon-32x32.png"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2022-06-15"/>
<meta property="article:created" itemprop="dateCreated" content="2022-06-15"/>
<meta name="article:author" content="Matt Gunther"/>
<meta name="article:author" content="Devon Kristiansen"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Data Analysis Hub: Webinar: Did COVID-19 Impact Contraceptive Use?"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Breakout sessions for both R and Stata users show how to use panel data from IPUMS PMA to model contraceptive adoption and discontinuation during the first year of the pandemic."/>
<meta property="og:url" content="https://ipums.github.io/pma-data-hub/posts/2022-06-15-phase2-webinar/"/>
<meta property="og:image" content="https://ipums.github.io/pma-data-hub/posts/2022-06-15-phase2-webinar/images/feature.png"/>
<meta property="og:image:width" content="3448"/>
<meta property="og:image:height" content="1938"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Data Analysis Hub"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Data Analysis Hub: Webinar: Did COVID-19 Impact Contraceptive Use?"/>
<meta property="twitter:description" content="Breakout sessions for both R and Stata users show how to use panel data from IPUMS PMA to model contraceptive adoption and discontinuation during the first year of the pandemic."/>
<meta property="twitter:url" content="https://ipums.github.io/pma-data-hub/posts/2022-06-15-phase2-webinar/"/>
<meta property="twitter:image" content="https://ipums.github.io/pma-data-hub/posts/2022-06-15-phase2-webinar/images/feature.png"/>
<meta property="twitter:image:width" content="3448"/>
<meta property="twitter:image:height" content="1938"/>
<meta property="twitter:site" content="@ipumsGH"/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output","categories","preview","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Webinar: Did COVID-19 Impact Contraceptive Use?"]},{"type":"character","attributes":{},"value":["Breakout sessions for both R and Stata users show how to use panel data from IPUMS PMA to model contraceptive adoption and discontinuation during the first year of the pandemic."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation"]}},"value":[{"type":"character","attributes":{},"value":["Matt Gunther"]},{"type":"character","attributes":{},"value":["IPUMS PMA Senior Data Analyst"]}]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation","url"]}},"value":[{"type":"character","attributes":{},"value":["Devon Kristiansen"]},{"type":"character","attributes":{},"value":["IPUMS PMA Project Manager"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/devonkristiansen"]}]}]},{"type":"character","attributes":{},"value":["2022-06-15"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_depth","toc_float"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["Panel Data","Data Analysis","Stata","Video"]},{"type":"character","attributes":{},"value":["images/feature.png"]},{"type":"character","attributes":{},"value":["https://ipums.github.io/pma-data-hub/posts/2022-06-15-phase2-webinar/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["data/pma_00093.dat.gz","data/pma_00093.xml","images/blog.png","images/download.png","images/feature.png","images/g1.png","images/g2.png","images/ipumsr.png","images/logo-ribbon.png","images/logo.png","images/m1.png","images/m2.png","images/m3.png","images/m4.png","images/m5.png","images/m6.png","images/m7.png","images/m8.png","images/universe.png","phase2-webinar_files/anchor-4.2.2/anchor.min.js","phase2-webinar_files/bowser-1.9.3/bowser.min.js","phase2-webinar_files/distill-2.2.21/template.v2.js","phase2-webinar_files/figure-html5/unnamed-chunk-26-1.png","phase2-webinar_files/figure-html5/unnamed-chunk-27-1.png","phase2-webinar_files/figure-html5/unnamed-chunk-28-1.png","phase2-webinar_files/figure-html5/unnamed-chunk-29-1.png","phase2-webinar_files/header-attrs-2.14/header-attrs.js","phase2-webinar_files/jquery-3.6.0/jquery-3.6.0.js","phase2-webinar_files/jquery-3.6.0/jquery-3.6.0.min.js","phase2-webinar_files/jquery-3.6.0/jquery-3.6.0.min.map","phase2-webinar_files/popper-2.6.0/popper.min.js","phase2-webinar_files/tippy-6.2.7/tippy-bundle.umd.min.js","phase2-webinar_files/tippy-6.2.7/tippy-light-border.css","phase2-webinar_files/tippy-6.2.7/tippy.css","phase2-webinar_files/tippy-6.2.7/tippy.umd.min.js","phase2-webinar_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      if ($(this).children()[0].nodeName == "D-FOOTNOTE") {
        var fn = $(this).children()[0]
        $(this).html(fn.shadowRoot.querySelector("sup"))
        $(this).id = fn.id
        fn.remove()
      }
      var refs = $(this).attr('data-cites').split(" ");
      var refHtml = refs.map(function(ref) {
        return "<p>" + $('#ref-' + ref).html() + "</p>";
      }).join("\n");
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // fix footnotes in tables (#411)
    // replacing broken distill.pub feature
    $('table d-footnote').each(function() {
      // we replace internal showAtNode methode which is triggered when hovering a footnote
      this.hoverBox.showAtNode = function(node) {
        // ported from https://github.com/distillpub/template/pull/105/files
        calcOffset = function(elem) {
            let x = elem.offsetLeft;
            let y = elem.offsetTop;
            // Traverse upwards until an `absolute` element is found or `elem`
            // becomes null.
            while (elem = elem.offsetParent && elem.style.position != 'absolute') {
                x += elem.offsetLeft;
                y += elem.offsetTop;
            }

            return { left: x, top: y };
        }
        // https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetTop
        const bbox = node.getBoundingClientRect();
        const offset = calcOffset(node);
        this.show([offset.left + bbox.width, offset.top + bbox.height]);
      }
    })

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    // ignore leaflet img layers (#106)
    figures = figures.filter(':not(img[class*="leaflet"])')
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace(/^index[.]html/, "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */

@import url('https://assets.ipums.org/_css/font-faces.css');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #00263A;
  --header-color:    #00263A;
  --body-color:      #00263A;
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    cabrito_sans_norm_regular;
  --mono-font:       Menlo, Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-font:       cabrito_sans_norm_regular;
  --navbar-font:     cabrito_sans_norm_regular;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #00263A;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #00263A;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */

h1{
  font-family: 'cabrito_sans_norm_regular';
  text-transform: uppercase;
  color: #00263A;
}

d-title h1{
  font-weight: 500;
}

d-article h1{
  font-size: 36px;
  line-height: 1.1em;
  font-weight: 100;
}

d-article h2{
    font-size: 30px;
    font-family: "cabrito_sans_cond_demi";
    text-transform: uppercase;
    color: #00263A;
    font-weight: 100;
}

d-article h3{
  font-size: 26px;
  font-family: 'cabrito_sans_cond_demi';
  color: #00263A;
  margin-top: 1.5rem;
  margin-bottom: 1em;
  font-weight: 100;
}

d-article h4{
  font-size: 24px;
  font-family: 'cabrito_sans_norm_regular';
  color: #00263A;
  text-transform: unset;
  margin-top: 1.5rem;
  margin-bottom: 1em;
  font-weight: 100;
}

d-article h5{
  font-size: 24px;
  font-family: 'cabrito_sans_cond_demi';
  color: #00263A;
  margin-top: 1.5rem;
  margin-bottom: 1em;
  font-weight: 100;
}

d-article li {
    margin-bottom: 0;
    margin-left: 1rem;
    padding-left: 0;
    color: #00263A;
}

d-article table {
    color: #00263A;
}
.d-contents nav > ul > li > a {
    font-weight: 100;
}

body{
  font-family: 'cabrito_subset';
}

b, strong {
  font-family: "cabrito_sans_cond_demi";
  font-weight: 100;
}

p>a {
    color: #98579B
}

li>a {
    color: #98579B;
}

.btn {
    font-family: "cabrito_subset";
    font-size: 16px;
    background-color: #F0E6F0;
    margin-bottom: 20px;
    border-width: 1px;
    padding-top: 6px;
    padding-bottom: 6px;
    cursor: pointer;
}

.distill-site-header .title {
    text-transform: uppercase;
    line-height: 38px;
    vertical-align: middle;
}

.distill-site-header .logo img{
  max-height: 50px; /* Makes logo bigger, default was 20px */
  vertical-align: middle;
  margin-bottom: 0;
}

.distill-site-header .nav-right {
    float: right;
    line-height: 38px;
    vertical-align: middle;
}

.distill-site-header .nav-left {
    display: inline-block;
    line-height: 38px;
    vertical-align: middle;
}

.algolia-autocomplete {
  line-height: 25px;
}

d-article iframe {
    border: 0;
    margin-bottom: 0;
    width: 100%;
}

d-article aside a {
  color: #98579B;
}

@media(max-width: 767px){
  aside{
    width: 50%;
    position: relative;
    left: 25%;
    padding-bottom: 20px;
  }
}

code {
  font-family: Menlo, Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

/* Prevent leaflet widgets from appearing above navbar */ 
.header {
  z-index: 1001;
}</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.14/header-attrs.js"></script>
  <script src="../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<script type="text/javascript" cookie-consent="tracking" async src="https://www.googletagmanager.com/gtag/js?id=UA-191039907-2"></script>
<script type="text/javascript" cookie-consent="tracking">
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-191039907-2');
</script>
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Webinar: Did COVID-19 Impact Contraceptive Use?","description":"Breakout sessions for both R and Stata users show how to use panel data from IPUMS PMA to model contraceptive adoption and discontinuation during the first year of the pandemic.","authors":[{"author":"Matt Gunther","authorURL":"#","affiliation":"IPUMS PMA Senior Data Analyst","affiliationURL":"#","orcidID":""},{"author":"Devon Kristiansen","authorURL":"https://www.linkedin.com/in/devonkristiansen","affiliation":"IPUMS PMA Project Manager","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-06-15T00:00:00.000-05:00","citationText":"Gunther & Kristiansen, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://pma.ipums.org/pma/">
<img src="../../images/logo-white.png" alt="Logo"/>
</a>
<a href="../../index.html" class="title">Data Analysis Hub</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Posts</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Courses
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="../../introduction.html">Introduction to IPUMS PMA Data Analysis</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
R Tips
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="../../posts/2020-12-10-get-ipums-pma-data/index.html">Import IPUMS PMA Data into R</a>
<a href="../../posts/2020-12-10-get-r-and-packages/index.html">R, RStudio, and R Packages</a>
<a href="../../posts/2021-11-15-find-an-example/index.html">Find an Example</a>
</div>
</div>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Community
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="../../CONTRIBUTING.html">Contributing guide</a>
<a href="../../CODE_OF_CONDUCT.html">Code of conduct</a>
<a href="../../LICENSE.html">License</a>
<a href="https://github.com/ipums/pma-data-hub/">GitHub</a>
</div>
</div>
<a href="../../about.html">About</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="https://twitter.com/ipumsGH">
<i class="fab fa-twitter" aria-hidden="true"></i>
</a>
<a href="https://github.com/ipums/pma-data-hub" aria-label="Link to source">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Webinar: Did COVID-19 Impact Contraceptive Use?</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:Panel_Data" class="dt-tag">Panel Data</a>
  <a href="../../index.html#category:Data_Analysis" class="dt-tag">Data Analysis</a>
  <a href="../../index.html#category:Stata" class="dt-tag">Stata</a>
  <a href="../../index.html#category:Video" class="dt-tag">Video</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Breakout sessions for both R and Stata users show how to use panel
data from IPUMS PMA to model contraceptive adoption and discontinuation
during the first year of the pandemic.</p></p>
</div>

<div class="d-byline">
  Matt Gunther  (IPUMS PMA Senior Data Analyst)
  
,   Devon Kristiansen <a
href="https://www.linkedin.com/in/devonkristiansen"
class="uri">https://www.linkedin.com/in/devonkristiansen</a> (IPUMS PMA
Project Manager)
  
<br/>2022-06-15
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#r-users-breakout-session">R-users Breakout Session</a>
<ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#analytic-sample">Analytic Sample</a></li>
<li><a href="#recoding-independent-variables">Recoding Independent
variables</a></li>
<li><a href="#dependent-variables">Dependent variables</a></li>
<li><a href="#analysis">Analysis</a></li>
</ul></li>
<li><a href="#stata-users-breakout-session">Stata-users Breakout
Session</a>
<ul>
<li><a href="#setup-1">Setup</a></li>
<li><a href="#analytic-sample-1">Analytic Sample</a></li>
<li><a href="#dependent-variables-1">Dependent variables</a></li>
<li><a href="#data-visualization">Data Visualization</a></li>
<li><a href="#data-analysis">Data Analysis</a></li>
<li><a href="#logistic-regressions">Logistic regressions</a></li>
<li><a href="#logistic-regressions-with-parity">Logistic regressions
with parity</a></li>
</ul></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>Last month, PMA and IPUMS PMA co-hosted a webinar introducing both R
and Stata users to the new <a
href="../../index.html#category:Panel_Data">family planning panel
survey</a> we’ve been covering recently here on the blog. In our example
analysis, we used interviews with women aged 15-49 in Burkina Faso and
Kenya to examine how COVID-19 impacted both adoption and discontinuation
of contraceptives between Phase 1 and Phase 2 of the study.</p>
<p>Below you’ll find a video recording of the complete webinar,
beginning with an overview of the PMA panel study design. Attendees were
invited to create their own data extract through the IPUMS PMA website,
and to try replicating our analysis with downloadable R or Stata
code.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/9aS4DF0DsKA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><br></p>
<p>In the breakout sessions, we walked R and Stata users through a few
of the key data cleaning, visualization, and modeling steps we use in
our analysis. You can download executable scripts from both the <a
href="https://pma.ipums.org/pma/resources/other/r-breakout.Rmd">R
session</a> and the <a
href="https://pma.ipums.org/pma/resources/other/workshop_2022.do">Stata
session</a>, or follow along with our example code shown below.</p>
<h1 id="r-users-breakout-session">R-users Breakout Session</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/KYS-YnmYCyU" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><br></p>
<h2 id="setup">Setup</h2>
<p>R users should always select a <strong>.dat (fixed-width
text)</strong> data format on the IPUMS PMA website.</p>
<p>You’ll receive a compressed <strong>dat.gz</strong> file - no need to
decompress!</p>
<p>Save both of those files in the “data” folder of your working
directory.</p>
<center>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/download.png" width="707" /></p>
</div>
</center>
<p>You’ll need the <a
href="https://tech.popdata.org/ipumsr/index.html">ipumsr</a> package to
load them. If not installed, you can download from CRAN.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"ipumsr"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Each session, load the <code>ipumsr</code> library before you import
data.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://www.ipums.org'>ipumsr</a></span><span class='op'>)</span>

<span class='co'># Load data into R with `ipumsr`</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/ipumsr/man/read_ipums_micro.html'>read_ipums_micro</a></span><span class='op'>(</span>
  ddi <span class='op'>=</span> <span class='st'>"data/pma_00093.xml"</span>,
  data <span class='op'>=</span> <span class='st'>"data/pma_00093.dat.gz"</span>
<span class='op'>)</span>
</code></pre>
</div>
</div>
<aside>
<div class="layout-chunk" data-layout="l-body">
<div>
<a href="https://tech.popdata.org/ipumsr/">
<img src="../../images/hex/ipumsr.png"/>
</a>
© IPUMS (MPL-2.0)
</div>
</div>
</aside>
<p>Other useful packages for IPUMS data:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># General toolkit </span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>

<span class='co'># For label manipulation: </span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://larmarange.github.io/labelled/'>labelled</a></span><span class='op'>)</span>

<span class='co'># For survey analysis: </span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://r-survey.r-forge.r-project.org/survey/'>survey</a></span><span class='op'>)</span> 
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='http://gdfe.co/srvyr/'>srvyr</a></span><span class='op'>)</span> 
</code></pre>
</div>
</div>
<aside>
<div class="layout-chunk" data-layout="l-body">
<div>
<a href="https://tidyverse.tidyverse.org/index.html">
<img src="../../images/hex/tidyverse.png"/>
</a>
© RStudio, Inc. (MIT)
</div>
</div>
</aside>
<h2 id="analytic-sample">Analytic Sample</h2>
<p>PMA uses an <strong>open panel design</strong> - women may enter the
panel after Phase 1, and they may be lost to follow-up after any phase
(see <a
href="https://pma.ipums.org/pma-action/variables/RESULTFQ">RESULTFQ</a>).</p>
<p>Women who enter the panel at Phase 2 are <code>NA</code> for all
variables at Phase 1.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>RESULTFQ_1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 3 × 2
             RESULTFQ_1     n
              &lt;int+lbl&gt; &lt;int&gt;
1  1 [Completed]        16314
2  5 [Partly completed]    34
3 NA                     4514</code></pre>
</div>
<p>Women whose households were not found again after Phase 1 are
<code>NA</code> for all variables at Phase 2.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>RESULTFQ_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 11 × 2
                                       RESULTFQ_2     n
                                        &lt;int+lbl&gt; &lt;int&gt;
 1  1 [Completed]                                 17015
 2  2 [Not at home]                                 106
 3  3 [Postponed]                                    24
 4  4 [Refused]                                      87
 5  5 [Partly completed]                             22
 6  7 [Respondent moved]                             18
 7 10 [Incapacitated]                                24
 8 95 [Not interviewed (female questionnaire)]        4
 9 96 [Not interviewed (household questionnaire)]   197
10 99 [NIU (not in universe)]                      1353
11 NA                                              2012</code></pre>
</div>
<p>We will only include women who were available and completed the
Female Questionnaire for <em>both</em> Phase 1 and Phase 2.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>RESULTFQ_1</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>&amp;</span> <span class='va'>RESULTFQ_2</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span>

<span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>RESULTFQ_1</span>, <span class='va'>RESULTFQ_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 1 × 3
     RESULTFQ_1    RESULTFQ_2     n
      &lt;int+lbl&gt;     &lt;int+lbl&gt; &lt;int&gt;
1 1 [Completed] 1 [Completed] 12501</code></pre>
</div>
<p>Additionally, PMA samples are only valid for the <em>de facto</em>
population: women who slept in the household the night before the
Household interview (see <a
href="https://pma.ipums.org/pma-action/variables/RESIDENT">RESIDENT</a>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>RESIDENT_1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 3 × 2
                                         RESIDENT_1     n
                                          &lt;int+lbl&gt; &lt;int&gt;
1 11 [Visitor, slept in hh last night]                140
2 21 [Usual member, did not sleep in hh last night]   194
3 22 [Usual member, slept in hh last night]         12167</code></pre>
</div>
<p>We’ll also drop cases where the woman was not part of the <em>de
facto</em> population in either Phase 1 or Phase 2.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>RESIDENT_1</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11</span>, <span class='fl'>22</span><span class='op'>)</span> <span class='op'>&amp;</span> <span class='va'>RESIDENT_2</span> <span class='op'><a href='https://rdrr.io/r/base/match.html'>%in%</a></span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>11</span>, <span class='fl'>22</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>How many cases remain?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>COUNTRY</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 2 × 2
           COUNTRY     n
         &lt;int+lbl&gt; &lt;int&gt;
1 1 [Burkina Faso]  5208
2 7 [Kenya]         6935</code></pre>
</div>
<h2 id="recoding-independent-variables">Recoding Independent
variables</h2>
<p>PMA surveys contain many <strong>categorical</strong> variables.
These are usually represented as <strong>factors</strong> in R.</p>
<p>In an IPUMS data extract, you won’t see factors!</p>
<p>Instead, we generate <a
href="https://larmarange.github.io/labelled/">labelled</a> numeric
variables (note the label in brackets).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/ipumsr/man/ipums_var_info.html'>ipums_var_label</a></span><span class='op'>(</span><span class='va'>CVINCOMELOSS_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Income loss resulted from COVID-19 restrictions&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>CVINCOMELOSS_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 4 × 2
              CVINCOMELOSS_2     n
                   &lt;int+lbl&gt; &lt;int&gt;
1  0 [No]                      658
2  1 [Yes]                    7566
3 97 [Don&#39;t know]                2
4 99 [NIU (not in universe)]  3917</code></pre>
</div>
<p>The <a href="https://tech.popdata.org/ipumsr/index.html">ipumsr</a>
package contains tools for working with labelled IPUMS data.</p>
<p>Usually, we handle codes like <code>99 [NIU (not in universe)]</code>
before transforming other missing data to <code>NA</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>CVINCOMELOSS_2</span>, <span class='va'>HHINCOMELOSSAMT_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 7 × 3
              CVINCOMELOSS_2           HHINCOMELOSSAMT_2     n
                   &lt;int+lbl&gt;                   &lt;int+lbl&gt; &lt;int&gt;
1  0 [No]                     2 [Partial]                  547
2  0 [No]                     3 [Complete]                 111
3  1 [Yes]                    2 [Partial]                 5449
4  1 [Yes]                    3 [Complete]                2117
5 97 [Don&#39;t know]             2 [Partial]                    2
6 99 [NIU (not in universe)]  1 [None]                    3904
7 99 [NIU (not in universe)] 98 [No response or missing]    13</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/universe.png" width="1127" /></p>
</div>
<aside>
Information on the code <code>NIU (not in universe)</code> can always be
found on a variable’s <a
href="https://pma.ipums.org/pma-action/variables/CVINCOMELOSS#universe_section">universe
tab</a>.
</aside>
<p>For <a
href="https://pma.ipums.org/pma-action/variables/CVINCOMELOSS">CVINCOMELOSS_2</a>,
<code>99 [NIU (not in universe)]</code> may indicate that the household
experienced <em>no income loss in the last year</em>, or it may indicate
that <a
href="https://pma.ipums.org/pma-action/variables/HHINCOMELOSSAMT">HHINCOMELOSSAMT_2</a>
is <code>98 [No response or missing]</code>.</p>
<p>We should treat the <code>NIU</code> women from households without
<em>any</em> income loss as “No” in <a
href="https://pma.ipums.org/pma-action/variables/CVINCOMELOSS">CVINCOMELOSS_2</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>
    CVINCOMELOSS_2 <span class='op'>=</span> <span class='va'>CVINCOMELOSS_2</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'>labelled</span><span class='fu'>::</span><span class='fu'><a href='http://larmarange.github.io/labelled/reference/recode_if.html'>recode_if</a></span><span class='op'>(</span><span class='va'>HHINCOMELOSSAMT_2</span> <span class='op'>==</span> <span class='fl'>1</span>, <span class='fl'>0</span><span class='op'>)</span>
  <span class='op'>)</span>

<span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>CVINCOMELOSS_2</span>, <span class='va'>HHINCOMELOSSAMT_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 7 × 3
              CVINCOMELOSS_2           HHINCOMELOSSAMT_2     n
                   &lt;int+lbl&gt;                   &lt;int+lbl&gt; &lt;int&gt;
1  0 [No]                     1 [None]                    3904
2  0 [No]                     2 [Partial]                  547
3  0 [No]                     3 [Complete]                 111
4  1 [Yes]                    2 [Partial]                 5449
5  1 [Yes]                    3 [Complete]                2117
6 97 [Don&#39;t know]             2 [Partial]                    2
7 99 [NIU (not in universe)] 98 [No response or missing]    13</code></pre>
</div>
<p>Next, we’ll use <code>NA</code> to represent the remaining values
above <code>90</code>:</p>
<ul>
<li><code>97 [Don't know]</code> and</li>
<li>remaining cases marked <code>99 [NIU (not in universe)]</code></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>
    CVINCOMELOSS_2 <span class='op'>=</span> <span class='va'>CVINCOMELOSS_2</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='https://rdrr.io/pkg/ipumsr/man/lbl_na_if.html'>lbl_na_if</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>.val</span> <span class='op'>&gt;</span> <span class='fl'>90</span><span class='op'>)</span>
  <span class='op'>)</span>  

<span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>CVINCOMELOSS_2</span>, <span class='va'>HHINCOMELOSSAMT_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 7 × 3
  CVINCOMELOSS_2           HHINCOMELOSSAMT_2     n
       &lt;int+lbl&gt;                   &lt;int+lbl&gt; &lt;int&gt;
1        0 [No]   1 [None]                    3904
2        0 [No]   2 [Partial]                  547
3        0 [No]   3 [Complete]                 111
4        1 [Yes]  2 [Partial]                 5449
5        1 [Yes]  3 [Complete]                2117
6       NA        2 [Partial]                    2
7       NA       98 [No response or missing]    13</code></pre>
</div>
<p>Once you’re done with labels, we recommend transforming key variables
into <strong>factors</strong> with <a
href="https://forcats.tidyverse.org/reference/as_factor.html">forcats::as_factor</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>CVINCOMELOSS_2 <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/as_factor.html'>as_factor</a></span><span class='op'>(</span><span class='va'>CVINCOMELOSS_2</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>CVINCOMELOSS_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 3 × 2
  CVINCOMELOSS_2     n
  &lt;fct&gt;          &lt;int&gt;
1 No              4562
2 Yes             7566
3 &lt;NA&gt;              15</code></pre>
</div>
<aside>
The <a href="https://forcats.tidyverse.org">forcats</a> package is
included when you load <code>library(tidyverse)</code>.
</aside>
<p>This will make categorical variables easier to use in data
visualization and as “dummy” variables in regression analysis.</p>
<p>Likert-style questions can be treated as factors, too.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/ipumsr/man/ipums_var_info.html'>ipums_var_label</a></span><span class='op'>(</span><span class='va'>COVIDCONCERN_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;Concerned about getting infected&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>COVIDCONCERN_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 6 × 2
                                      COVIDCONCERN_2     n
                                           &lt;int+lbl&gt; &lt;int&gt;
1  1 [Not concerned]                                   374
2  2 [A little concerned]                              677
3  3 [Concerned]                                      2470
4  4 [Very concerned]                                 8610
5  5 [Currently / previously infected with COVID-19]     9
6 98 [No response or missing]                            3</code></pre>
</div>
<p>This time we’ll treat codes <code>5</code> and above as
<code>NA</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>
    COVIDCONCERN_2 <span class='op'>=</span> <span class='va'>COVIDCONCERN_2</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='https://rdrr.io/pkg/ipumsr/man/lbl_na_if.html'>lbl_na_if</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>.val</span> <span class='op'>&gt;=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='https://forcats.tidyverse.org/reference/as_factor.html'>as_factor</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='op'>)</span>

<span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>COVIDCONCERN_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 5 × 2
  COVIDCONCERN_2         n
  &lt;fct&gt;              &lt;int&gt;
1 Not concerned        374
2 A little concerned   677
3 Concerned           2470
4 Very concerned      8610
5 &lt;NA&gt;                  12</code></pre>
</div>
<p>You can apply the same transformation to several variables with help
from <a
href="https://dplyr.tidyverse.org/reference/across.html">dplyr::across</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>
    <span class='fu'><a href='https://dplyr.tidyverse.org/reference/across.html'>across</a></span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>COUNTRY</span>, <span class='va'>URBAN</span>, <span class='va'>WEALTHT_2</span>, <span class='va'>EDUCATTGEN_2</span><span class='op'>)</span>,
      <span class='op'>~</span><span class='va'>.x</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://rdrr.io/pkg/ipumsr/man/lbl_na_if.html'>lbl_na_if</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>.val</span> <span class='op'>&gt;=</span> <span class='fl'>90</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/as_factor.html'>as_factor</a></span><span class='op'>(</span><span class='op'>)</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</div>
<aside>
<a href="https://dplyr.tidyverse.org/index.html">dplyr</a> is another
package included when you load <code>library(tidyverse)</code>.
</aside>
<p>Often, it’s important to set a <strong>reference group</strong>
against which all dummy variables will be compared.</p>
<p>You can manually specify a <strong>refernece group</strong> when you
set factor “levels” with a function like <a
href="https://forcats.tidyverse.org/reference/fct_relevel.html">forcats::fct_relevel</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>
    AGE_2 <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span>
      <span class='va'>AGE_2</span> <span class='op'>&lt;</span> <span class='fl'>25</span> <span class='op'>~</span> <span class='st'>"15-24"</span>,
      <span class='va'>AGE_2</span> <span class='op'>&lt;</span> <span class='fl'>35</span> <span class='op'>~</span> <span class='st'>"25-34"</span>,
      <span class='va'>AGE_2</span> <span class='op'>&lt;</span> <span class='fl'>50</span> <span class='op'>~</span> <span class='st'>"35-49"</span>
    <span class='op'>)</span>,
    AGE_2 <span class='op'>=</span> <span class='va'>AGE_2</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_relevel.html'>fct_relevel</a></span><span class='op'>(</span><span class='st'>"15-24"</span>, <span class='st'>"25-34"</span>, <span class='st'>"35-49"</span><span class='op'>)</span>
  <span class='op'>)</span> 
</code></pre>
</div>
</div>
<h2 id="dependent-variables">Dependent variables</h2>
<p>We’ll use our recoded variables to model the likelihood of
contraceptive method <strong>adoption</strong> and
<strong>discontinuation</strong> between phases (see <a
href="https://pma.ipums.org/pma-action/variables/CVINCOMELOSS">CP</a>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>CP_1</span> <span class='op'>&lt;</span> <span class='fl'>90</span> <span class='op'>&amp;</span> <span class='va'>CP_2</span> <span class='op'>&lt;</span> <span class='fl'>90</span><span class='op'>)</span>

<span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>CP_1</span>, <span class='va'>CP_2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 4 × 3
       CP_1      CP_2     n
  &lt;int+lbl&gt; &lt;int+lbl&gt; &lt;int&gt;
1   0 [No]    0 [No]   5107
2   0 [No]    1 [Yes]  1939
3   1 [Yes]   0 [No]   1178
4   1 [Yes]   1 [Yes]  3917</code></pre>
</div>
<p>A woman has <strong>adopted</strong> a method if she was <em>not</em>
using one at Phase 1, but then reported using one at Phase 2.</p>
<p>She has <strong>discontinued</strong> a method if she <em>did</em>
use one at Phase 1, but no longer uses one at Phase 2.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>
    FPSTATUS <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/case_when.html'>case_when</a></span><span class='op'>(</span>
      <span class='va'>CP_1</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>&amp;</span> <span class='va'>CP_2</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"User"</span>,
      <span class='va'>CP_1</span> <span class='op'>==</span> <span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>CP_2</span> <span class='op'>==</span> <span class='fl'>0</span> <span class='op'>~</span> <span class='st'>"Non-user"</span>,
      <span class='va'>CP_1</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>&amp;</span> <span class='va'>CP_2</span> <span class='op'>==</span> <span class='fl'>0</span> <span class='op'>~</span> <span class='st'>"Discontinued"</span>,
      <span class='va'>CP_1</span> <span class='op'>==</span> <span class='fl'>0</span> <span class='op'>&amp;</span> <span class='va'>CP_2</span> <span class='op'>==</span> <span class='fl'>1</span> <span class='op'>~</span> <span class='st'>"Adopted"</span>
    <span class='op'>)</span>,
    FPSTATUS <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>FPSTATUS</span><span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Un-weighted sample proportions for <code>FPSTATUS</code> can be found
with <a
href="https://dplyr.tidyverse.org/reference/count.html">count</a> and <a
href="https://www.rdocumentation.org/packages/base/versions/3.6.2/topics/prop.table">prop.table</a>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat_nowt</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>COUNTRY</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/count.html'>count</a></span><span class='op'>(</span><span class='va'>FPSTATUS</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>prop <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/proportions.html'>prop.table</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>dat_nowt</span>
</code></pre>
</div>
<pre><code># A tibble: 8 × 4
# Groups:   COUNTRY [2]
  COUNTRY      FPSTATUS         n   prop
  &lt;fct&gt;        &lt;fct&gt;        &lt;int&gt;  &lt;dbl&gt;
1 Burkina Faso Non-user      2589 0.497 
2 Burkina Faso User          1241 0.238 
3 Burkina Faso Adopted        821 0.158 
4 Burkina Faso Discontinued   556 0.107 
5 Kenya        Non-user      2518 0.363 
6 Kenya        User          2676 0.386 
7 Kenya        Adopted       1118 0.161 
8 Kenya        Discontinued   622 0.0897</code></pre>
</div>
<p>We’ll plot this table with <a
href="https://ggplot2.tidyverse.org/index.html">ggplot2</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat_nowt</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>prop</span>, y <span class='op'>=</span> <span class='va'>FPSTATUS</span>, fill <span class='op'>=</span> <span class='va'>FPSTATUS</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>COUNTRY</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>label_percent</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="phase2-webinar_files/figure-html5/unnamed-chunk-26-1.png" width="960" /></p>
</div>
<aside>
<a href="https://ggplot2.tidyverse.org/index.html">ggplot2</a> is
another package included when you load <code>library(tidyverse)</code>.
</aside>
<p>For <em>weighted</em> population estimates, use <a
href="http://gdfe.co/srvyr/reference/as_survey_design.html">as_survey_design</a>
and <a
href="http://gdfe.co/srvyr/reference/survey_mean.html">survey_mean</a>
from the <a href="http://gdfe.co/srvyr/index.html">srvyr</a>
package.</p>
<p>Use <code>prop = TRUE</code> to adjust standard errors near 0% or
100% for proportions.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat_wtd</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/as_survey_design.html'>as_survey_design</a></span><span class='op'>(</span>weight <span class='op'>=</span> <span class='va'>PANELWEIGHT</span>, id <span class='op'>=</span> <span class='va'>EAID_1</span>, strata <span class='op'>=</span> <span class='va'>STRATA_1</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>COUNTRY</span>, <span class='va'>FPSTATUS</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/summarise.html'>summarise</a></span><span class='op'>(</span><span class='fu'><a href='http://gdfe.co/srvyr/reference/survey_mean.html'>survey_mean</a></span><span class='op'>(</span>prop <span class='op'>=</span> <span class='cn'>TRUE</span>, prop_method <span class='op'>=</span> <span class='st'>"logit"</span>, vartype <span class='op'>=</span> <span class='st'>"ci"</span><span class='op'>)</span><span class='op'>)</span>

<span class='va'>dat_wtd</span>
</code></pre>
</div>
<pre><code># A tibble: 8 × 5
# Groups:   COUNTRY [2]
  COUNTRY      FPSTATUS       coef `_low` `_upp`
  &lt;fct&gt;        &lt;fct&gt;         &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1 Burkina Faso Non-user     0.563  0.529   0.596
2 Burkina Faso User         0.188  0.164   0.214
3 Burkina Faso Adopted      0.150  0.133   0.168
4 Burkina Faso Discontinued 0.0999 0.0870  0.115
5 Kenya        Non-user     0.378  0.361   0.396
6 Kenya        User         0.366  0.350   0.382
7 Kenya        Adopted      0.165  0.153   0.177
8 Kenya        Discontinued 0.0912 0.0830  0.100</code></pre>
</div>
<aside>
<div class="layout-chunk" data-layout="l-body">
<div>
<a href="http://gdfe.co/srvyr/index.html">
<img src="../../images/hex/srvyr.png"/>
</a>
© Greg Freedman Ellis (GPL-2 | GPL-3)
</div>
</div>
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dat_wtd</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>coef</span>, y <span class='op'>=</span> <span class='va'>FPSTATUS</span>, fill <span class='op'>=</span> <span class='va'>FPSTATUS</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>  
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_linerange.html'>geom_errorbar</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>xmin <span class='op'>=</span> <span class='va'>`_low`</span>, xmax <span class='op'>=</span> <span class='va'>`_upp`</span><span class='op'>)</span>, width <span class='op'>=</span> <span class='fl'>0.2</span>, alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>COUNTRY</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>axis.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>, legend.position <span class='op'>=</span> <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_continuous.html'>scale_x_continuous</a></span><span class='op'>(</span>labels <span class='op'>=</span> <span class='fu'>scales</span><span class='fu'>::</span><span class='fu'><a href='https://scales.r-lib.org/reference/label_percent.html'>label_percent</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="phase2-webinar_files/figure-html5/unnamed-chunk-29-1.png" width="960" /></p>
</div>
<h2 id="analysis">Analysis</h2>
<p>The same <a href="http://gdfe.co/srvyr/index.html">srvyr</a> toolkit
can be used to model our dependent variables with <a
href="http://r-survey.r-forge.r-project.org/survey/">survey::svyglm</a>.</p>
<p>Consider women who were <em>not</em> using a method at Phase 1:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>adopt_glm</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>CP_1</span> <span class='op'>==</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>adopt <span class='op'>=</span> <span class='va'>FPSTATUS</span> <span class='op'>==</span> <span class='st'>"Adopted"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>COUNTRY</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/summarise.html'>summarise</a></span><span class='op'>(</span>
    adopt <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>cur_data</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='http://gdfe.co/srvyr/reference/as_survey_design.html'>as_survey_design</a></span><span class='op'>(</span>weight <span class='op'>=</span> <span class='va'>PANELWEIGHT</span>, id <span class='op'>=</span> <span class='va'>EAID_1</span>, strata <span class='op'>=</span> <span class='va'>STRATA_1</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='https://rdrr.io/pkg/survey/man/svyglm.html'>svyglm</a></span><span class='op'>(</span>
        <span class='va'>adopt</span> <span class='op'>~</span> <span class='va'>CVINCOMELOSS_2</span> <span class='op'>+</span> <span class='va'>COVIDCONCERN_2</span> <span class='op'>+</span> <span class='va'>URBAN</span> <span class='op'>+</span> <span class='va'>WEALTHT_2</span> <span class='op'>+</span> <span class='va'>EDUCATTGEN_2</span> <span class='op'>+</span> <span class='va'>AGE_2</span>,
        family <span class='op'>=</span> <span class='st'>"quasibinomial"</span>, design <span class='op'>=</span> <span class='va'>.</span>
      <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'>broom</span><span class='fu'>::</span><span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span>exp <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>sig <span class='op'>=</span> <span class='fu'>gtools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gtools/man/stars.pval.html'>stars.pval</a></span><span class='op'>(</span><span class='va'>p.value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='op'>)</span>

<span class='va'>adopt_glm</span>
</code></pre>
</div>
<pre><code># A tibble: 2 × 2
  COUNTRY      adopt            
  &lt;fct&gt;        &lt;list&gt;           
1 Burkina Faso &lt;tibble [13 × 6]&gt;
2 Kenya        &lt;tibble [13 × 6]&gt;</code></pre>
</div>
<p>For Phase 1 non-users in Burkina Faso, <strong>very high</strong>
levels of concern about becoming infected with COVID-19 are
significantly associated with higher chances of adopting a contraceptive
method (relative to women who had no such concern).</p>
<p>Lesser levels of concern are not statistically significant, nor is
household income loss from COVID-19.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>adopt_glm</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>COUNTRY</span> <span class='op'>==</span> <span class='st'>"Burkina Faso"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>adopt</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code># A tibble: 13 × 7
   COUNTRY      term        estimate std.error statistic p.value sig  
   &lt;fct&gt;        &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;
 1 Burkina Faso (Intercept)   0.0985     0.366    -6.33  2.62e-9 &quot;***&quot;
 2 Burkina Faso CVINCOMELO…   1.28       0.155     1.61  1.09e-1 &quot; &quot;  
 3 Burkina Faso COVIDCONCE…   1.80       0.373     1.58  1.17e-1 &quot; &quot;  
 4 Burkina Faso COVIDCONCE…   1.37       0.351     0.891 3.75e-1 &quot; &quot;  
 5 Burkina Faso COVIDCONCE…   1.91       0.318     2.02  4.46e-2 &quot;*&quot;  
 6 Burkina Faso URBANUrban    1.36       0.186     1.65  1.01e-1 &quot; &quot;  
 7 Burkina Faso WEALTHT_2M…   0.962      0.170    -0.230 8.18e-1 &quot; &quot;  
 8 Burkina Faso WEALTHT_2H…   0.735      0.220    -1.40  1.64e-1 &quot; &quot;  
 9 Burkina Faso EDUCATTGEN…   1.44       0.161     2.24  2.65e-2 &quot;*&quot;  
10 Burkina Faso EDUCATTGEN…   1.51       0.181     2.27  2.46e-2 &quot;*&quot;  
11 Burkina Faso EDUCATTGEN…   2.30       0.352     2.37  1.92e-2 &quot;*&quot;  
12 Burkina Faso AGE_225-34    1.72       0.180     3.02  2.98e-3 &quot;**&quot; 
13 Burkina Faso AGE_235-49    1.08       0.195     0.385 7.01e-1 &quot; &quot;  </code></pre>
</div>
<p>In Kenya, neither of these measures are significantly predictive of
adoption among non-users.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>adopt_glm</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>COUNTRY</span> <span class='op'>==</span> <span class='st'>"Kenya"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>adopt</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code># A tibble: 13 × 7
   COUNTRY term            estimate std.error statistic  p.value sig  
   &lt;fct&gt;   &lt;chr&gt;              &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;
 1 Kenya   (Intercept)        0.104     0.371    -6.09  3.76e- 9 &quot;***&quot;
 2 Kenya   CVINCOMELOSS_2…    1.20      0.111     1.61  1.08e- 1 &quot; &quot;  
 3 Kenya   COVIDCONCERN_2…    0.645     0.351    -1.25  2.13e- 1 &quot; &quot;  
 4 Kenya   COVIDCONCERN_2…    0.794     0.256    -0.900 3.69e- 1 &quot; &quot;  
 5 Kenya   COVIDCONCERN_2…    0.907     0.254    -0.385 7.00e- 1 &quot; &quot;  
 6 Kenya   URBANUrban         1.17      0.147     1.06  2.92e- 1 &quot; &quot;  
 7 Kenya   WEALTHT_2Middl…    1.12      0.112     1.01  3.15e- 1 &quot; &quot;  
 8 Kenya   WEALTHT_2Highe…    0.817     0.151    -1.34  1.80e- 1 &quot; &quot;  
 9 Kenya   EDUCATTGEN_2Pr…    2.30      0.273     3.05  2.53e- 3 &quot;**&quot; 
10 Kenya   EDUCATTGEN_2Se…    2.87      0.302     3.49  5.54e- 4 &quot;***&quot;
11 Kenya   EDUCATTGEN_2Te…    3.63      0.306     4.21  3.51e- 5 &quot;***&quot;
12 Kenya   AGE_225-34         3.06      0.128     8.71  2.98e-16 &quot;***&quot;
13 Kenya   AGE_235-49         1.61      0.131     3.62  3.53e- 4 &quot;***&quot;</code></pre>
</div>
<p>What about method <strong>dicontinuation</strong> for women who
<em>were</em> using a method at Phase 1?</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>stop_glm</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>CP_1</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>stop <span class='op'>=</span> <span class='va'>FPSTATUS</span> <span class='op'>==</span> <span class='st'>"Discontinued"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/group_by.html'>group_by</a></span><span class='op'>(</span><span class='va'>COUNTRY</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span>
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/summarise.html'>summarise</a></span><span class='op'>(</span>
    stop <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/context.html'>cur_data</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='http://gdfe.co/srvyr/reference/as_survey_design.html'>as_survey_design</a></span><span class='op'>(</span>weight <span class='op'>=</span> <span class='va'>PANELWEIGHT</span>, id <span class='op'>=</span> <span class='va'>EAID_1</span>, strata <span class='op'>=</span> <span class='va'>STRATA_1</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='https://rdrr.io/pkg/survey/man/svyglm.html'>svyglm</a></span><span class='op'>(</span>
        <span class='va'>stop</span> <span class='op'>~</span> <span class='va'>CVINCOMELOSS_2</span> <span class='op'>+</span> <span class='va'>COVIDCONCERN_2</span> <span class='op'>+</span> <span class='va'>URBAN</span> <span class='op'>+</span> <span class='va'>WEALTHT_2</span> <span class='op'>+</span> <span class='va'>EDUCATTGEN_2</span> <span class='op'>+</span> <span class='va'>AGE_2</span>,
        family <span class='op'>=</span> <span class='st'>"quasibinomial"</span>, design <span class='op'>=</span> <span class='va'>.</span>
      <span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'>broom</span><span class='fu'>::</span><span class='fu'><a href='https://generics.r-lib.org/reference/tidy.html'>tidy</a></span><span class='op'>(</span>exp <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>mutate</a></span><span class='op'>(</span>sig <span class='op'>=</span> <span class='fu'>gtools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/gtools/man/stars.pval.html'>stars.pval</a></span><span class='op'>(</span><span class='va'>p.value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
      <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='op'>)</span>

<span class='va'>stop_glm</span>
</code></pre>
</div>
<pre><code># A tibble: 2 × 2
  COUNTRY      stop             
  &lt;fct&gt;        &lt;list&gt;           
1 Burkina Faso &lt;tibble [13 × 6]&gt;
2 Kenya        &lt;tibble [13 × 6]&gt;</code></pre>
</div>
<p>This time, neither of the COVID-19 measures are significantly
associated with <strong>discontinuation</strong> for Phase 1
contraceptive users in Burkina Faso.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>stop_glm</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>COUNTRY</span> <span class='op'>==</span> <span class='st'>"Burkina Faso"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>stop</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code># A tibble: 13 × 7
   COUNTRY      term        estimate std.error statistic p.value sig  
   &lt;fct&gt;        &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;
 1 Burkina Faso (Intercept)    0.536     0.407    -1.53   0.127  &quot; &quot;  
 2 Burkina Faso CVINCOMELO…    0.857     0.185    -0.835  0.405  &quot; &quot;  
 3 Burkina Faso COVIDCONCE…    1.18      0.442     0.379  0.705  &quot; &quot;  
 4 Burkina Faso COVIDCONCE…    0.922     0.425    -0.192  0.848  &quot; &quot;  
 5 Burkina Faso COVIDCONCE…    0.935     0.335    -0.200  0.842  &quot; &quot;  
 6 Burkina Faso URBANUrban     0.951     0.231    -0.215  0.830  &quot; &quot;  
 7 Burkina Faso WEALTHT_2M…    1.47      0.211     1.82   0.0702 &quot;.&quot;  
 8 Burkina Faso WEALTHT_2H…    0.797     0.238    -0.952  0.343  &quot; &quot;  
 9 Burkina Faso EDUCATTGEN…    1.29      0.212     1.21   0.226  &quot; &quot;  
10 Burkina Faso EDUCATTGEN…    1.16      0.250     0.596  0.552  &quot; &quot;  
11 Burkina Faso EDUCATTGEN…    0.787     0.289    -0.828  0.409  &quot; &quot;  
12 Burkina Faso AGE_225-34     1.11      0.215     0.482  0.630  &quot; &quot;  
13 Burkina Faso AGE_235-49     0.784     0.244    -0.997  0.320  &quot; &quot;  </code></pre>
</div>
<p>However, higher levels concern with becoming infected with COVID-19
<em>are</em> significantly associated with higher odds of
discontinuation for Phase 1 contraceptive users in Kenya.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>stop_glm</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='http://gdfe.co/srvyr/reference/dplyr_single.html'>filter</a></span><span class='op'>(</span><span class='va'>COUNTRY</span> <span class='op'>==</span> <span class='st'>"Kenya"</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://tidyr.tidyverse.org/reference/nest.html'>unnest</a></span><span class='op'>(</span><span class='va'>stop</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code># A tibble: 13 × 7
   COUNTRY term             estimate std.error statistic p.value sig  
   &lt;fct&gt;   &lt;chr&gt;               &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;chr&gt;
 1 Kenya   (Intercept)        0.0978     0.877   -2.65   8.53e-3 &quot;**&quot; 
 2 Kenya   CVINCOMELOSS_2Y…   1.01       0.158    0.0433 9.65e-1 &quot; &quot;  
 3 Kenya   COVIDCONCERN_2A…   7.68       0.694    2.94   3.60e-3 &quot;**&quot; 
 4 Kenya   COVIDCONCERN_2C…   4.24       0.723    2.00   4.67e-2 &quot;*&quot;  
 5 Kenya   COVIDCONCERN_2V…   3.77       0.719    1.85   6.61e-2 &quot;.&quot;  
 6 Kenya   URBANUrban         1.12       0.135    0.836  4.04e-1 &quot; &quot;  
 7 Kenya   WEALTHT_2Middle…   0.843      0.153   -1.11   2.66e-1 &quot; &quot;  
 8 Kenya   WEALTHT_2Highes…   0.888      0.180   -0.659  5.11e-1 &quot; &quot;  
 9 Kenya   EDUCATTGEN_2Pri…   0.787      0.349   -0.687  4.93e-1 &quot; &quot;  
10 Kenya   EDUCATTGEN_2Sec…   0.958      0.367   -0.118  9.07e-1 &quot; &quot;  
11 Kenya   EDUCATTGEN_2Ter…   1.10       0.397    0.238  8.12e-1 &quot; &quot;  
12 Kenya   AGE_225-34         0.783      0.153   -1.60   1.10e-1 &quot; &quot;  
13 Kenya   AGE_235-49         0.589      0.153   -3.45   6.51e-4 &quot;***&quot;</code></pre>
</div>
<h1 id="stata-users-breakout-session">Stata-users Breakout Session</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ijifgQDGS8A" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><br></p>
<h2 id="setup-1">Setup</h2>
<p>Stata users should select a <code>.dta</code> file from the IPUMS PMA
website.</p>
<pre><code>. cd &quot;Z:\pma\admin\presentations\workshop2022&quot;
Z:\pma\admin\presentations\workshop2022

. use workshop_2022.dta</code></pre>
<p>Result of the Female Questionnaire in Phase 1 vs Phase 2:</p>
<pre><code>. tab resultfq_2 resultfq_1, miss

     result of female |  result of female questionnaire
        questionnaire | completed  partly co          . |     Total
----------------------+---------------------------------+----------
            completed |    12,501          8      4,506 |    17,015 
          not at home |       106          0          0 |       106 
            postponed |        24          0          0 |        24 
              refused |        87          0          0 |        87 
     partly completed |        14          0          8 |        22 
     respondent moved |        18          0          0 |        18 
        incapacitated |        24          0          0 |        24 
not interviewed (fema |         4          0          0 |         4 
not interviewed (hous |       197          0          0 |       197 
niu (not in universe) |     1,352          1          0 |     1,353 
                    . |     1,987         25          0 |     2,012 
----------------------+---------------------------------+----------
                Total |    16,314         34      4,514 |    20,862 
</code></pre>
<h2 id="analytic-sample-1">Analytic Sample</h2>
<p>Dropping women who did not complete a survey in both surveys:</p>
<pre><code>. keep if resultfq_1 == 1
(4,548 observations deleted)

. keep if resultfq_2 == 1
(3,813 observations deleted)</code></pre>
<p>Dropping women who were not part of the <em>de facto</em>
population:</p>
<pre><code>. keep if (resident_1 == 11 | resident_1 == 22) &amp; (resident_2 == 11 | resident_2 == 22)
(358 observations deleted)</code></pre>
<h2 id="dependent-variables-1">Dependent variables</h2>
<p>We’ll call our dependent variable <code>category</code>.</p>
<pre><code>&gt; gen category = .
(12,143 missing values generated)

. replace category = 1 if cp_1 == 0 &amp; cp_2 == 0
(5,107 real changes made)

. replace category = 2 if cp_1 == 1 &amp; cp_2 == 1
(3,917 real changes made)

. replace category = 3 if cp_1 == 0 &amp; cp_2 == 1
(1,939 real changes made)

. replace category = 4 if cp_1 == 1 &amp; cp_2 == 0
(1,178 real changes made)
</code></pre>
<p>“Non-users” were not using a method at the time of <em>both</em> of
their interviews.</p>
<p>“Users” were using a method at the time of <em>both</em> of their
interviews.</p>
<pre><code>. label define categorical 1 &quot;Non-user&quot; 2 &quot;User&quot; 3 &quot;Adopted FP&quot; 4 &quot;Discontinued FP&quot; 

. label values category categorical

. tab category, gen(cat_)

       category |      Freq.     Percent        Cum.
----------------+-----------------------------------
       Non-user |      5,107       42.06       42.06
           User |      3,917       32.26       74.33
     Adopted FP |      1,939       15.97       90.30
Discontinued FP |      1,178        9.70      100.00
----------------+-----------------------------------
          Total |     12,141      100.00
</code></pre>
<h2 id="data-visualization">Data Visualization</h2>
<p>Our first graph uses counts of interviewed women</p>
<pre><code>. graph bar (sum) cat_1-cat_4, over(country) legend(label(1 &quot;Non-user&quot;) 
label(2 &quot;User&quot;) label(3 &quot;Adopted FP&quot;) label(4 &quot;Discontinued FP&quot;))</code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/g1.png" width="798" style="display: block; margin: auto;" /></p>
</div>
<p>Our second graph uses proportions, so the visualization isn’t biased
by a difference in sample sizes</p>
<pre><code>. graph bar cat_1-cat_4, over(country) legend(label(1 &quot;Non-user&quot;) label(2 &quot;User&quot;)
label(3 &quot;Adopted FP&quot;) label(4 &quot;Discontinued FP&quot;))</code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/g2.png" width="792" style="display: block; margin: auto;" /></p>
</div>
<h2 id="data-analysis">Data Analysis</h2>
<p>Rename outcome variable</p>
<pre><code>. rename cat_3 adoption

. rename cat_4 discontinue
</code></pre>
<p>Explanatory variables</p>
<pre><code>. tab cvincomeloss_2, miss

     income loss resulted from covid-19 |
                           restrictions |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                                     no |        658        5.42        5.42
                                    yes |      7,566       62.31       67.73
                             don&#39;t know |          2        0.02       67.74
                  niu (not in universe) |      3,917       32.26      100.00
----------------------------------------+-----------------------------------
                                  Total |     12,143      100.00
</code></pre>
<p>Use <a
href="https://pma.ipums.org/pma-action/variables/hhincomelossamt#codes_section">hhincomelossamt</a>
to understand who did not lose income in
<code>r varlink(cvincomeloss)</code></p>
<pre><code>. tab cvincomeloss_2 hhincomelossamt_2

 income loss resulted |    household income loss since covid-19
        from covid-19 |                restrictions
         restrictions |      none    partial   complete  no respon |     Total
----------------------+--------------------------------------------+----------
                   no |         0        547        111          0 |       658 
                  yes |         0      5,449      2,117          0 |     7,566 
           don&#39;t know |         0          2          0          0 |         2 
niu (not in universe) |     3,904          0          0         13 |     3,917 
----------------------+--------------------------------------------+----------
                Total |     3,904      5,998      2,228         13 |    12,143 

. replace cvincomeloss_2 = 0 if hhincomelossamt_2 == 1
(3,904 real changes made)</code></pre>
<p>Look at the other explanatory variable</p>
<pre><code>. tab country covidconcern_2, row

             |            concerned about getting infected
 pma country | not conce  a little   concerned  very conc  currently |     Total
-------------+-------------------------------------------------------+----------
burkina faso |       212        461        955      3,576          1 |     5,208 
             |      4.07       8.85      18.34      68.66       0.02 |    100.00 
-------------+-------------------------------------------------------+----------
       kenya |       162        216      1,515      5,034          8 |     6,935 
             |      2.34       3.11      21.85      72.59       0.12 |    100.00 
-------------+-------------------------------------------------------+----------
       Total |       374        677      2,470      8,610          9 |    12,143 
             |      3.08       5.58      20.34      70.91       0.07 |    100.00 

             | concerned
             |   about
             |  getting
             |  infected
 pma country | no respon |     Total
-------------+-----------+----------
burkina faso |         3 |     5,208 
             |      0.06 |    100.00 
-------------+-----------+----------
       kenya |         0 |     6,935 
             |      0.00 |    100.00 
-------------+-----------+----------
       Total |         3 |    12,143 
             |      0.02 |    100.00 
                      </code></pre>
<p>Replace NIU to missing</p>
<pre><code>. forvalues i = 1/2 {
  foreach var in age marstat educattgen cvincomeloss covidconcern 
  hhincomelossamt wealtht cp {
    replace `var&#39;_`i&#39; = . if `var&#39;_`i&#39; &gt; 90
  }
}
(0 real changes made)
(1 real change made, 1 to missing)
(2 real changes made, 2 to missing)
(0 real changes made)
(0 real changes made)
(0 real changes made)
(2 real changes made, 2 to missing)
(2 real changes made, 2 to missing)
(0 real changes made)
(0 real changes made)
(1 real change made, 1 to missing)
(15 real changes made, 15 to missing)
(3 real changes made, 3 to missing)
(13 real changes made, 13 to missing)
(993 real changes made, 993 to missing)
(0 real changes made)
</code></pre>
<p>Establishing the survey weight settings</p>
<pre><code>. svyset [pw=panelweight], psu(eaid_1) strata(strata_1)

      pweight: panelweight
          VCE: linearized
  Single unit: missing
     Strata 1: strata_1
         SU 1: eaid_1
        FPC 1: &lt;zero&gt;

. 
</code></pre>
<p>Demonstrating weighted proportions</p>
<pre><code>. tab country adoption, row

                      | category==Adopted FP
          pma country |         0          1 |     Total
----------------------+----------------------+----------
         burkina faso |     4,386        821 |     5,207 
                      |     84.23      15.77 |    100.00 
----------------------+----------------------+----------
                kenya |     5,816      1,118 |     6,934 
                      |     83.88      16.12 |    100.00 
----------------------+----------------------+----------
                Total |    10,202      1,939 |    12,141 
                      |     84.03      15.97 |    100.00 
</code></pre>
<pre><code>. svy: tab country adoption, row
(running tabulate on estimation sample)

Number of strata   =        23                  Number of obs     =     12,141
Number of PSUs     =       474                  Population size   = 12,134.981
                                                Design df         =        451

-------------------------------
pma       |category==Adopted FP
country   |     0      1  Total
----------+--------------------
  burkina | .8503  .1497      1
    kenya | .8353  .1647      1
          | 
    Total | .8418  .1582      1
-------------------------------
  Key:  row proportion

  Pearson:
    Uncorrected   chi2(1)         =    5.0554
    Design-based  F(1, 451)       =    1.8652     P = 0.1727

</code></pre>
<p>Creating an <a
href="https://pma.ipums.org/pma-action/variables/age#codes_section">age</a>
category recode</p>
<pre><code>. recode age_2 (15/24=1) (25/34=2) (35/49=3), gen(age_rec)
(12143 differences between age_2 and age_rec)

. label define agerecode 1 &quot;15-24&quot; 2 &quot;25-34&quot; 3 &quot;35-49&quot;

. label values age_rec agerecode

. 
. recode birthevent_2 (99=0) (0=0) (1/2=1) (else=2), gen(birth_rec)
(10389 differences between birthevent_2 and birth_rec)

. label define birthrecode 0 &quot;No births&quot; 1 &quot;1 or 2 births&quot; 2 &quot;3+ births&quot;

. label values birth_rec birthrecode</code></pre>
<h2 id="logistic-regressions">Logistic regressions</h2>
<pre><code>. svy: logit adoption i.age_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 1 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m1.png" width="777" style="display: block; margin: auto;" /></p>
</div>
<pre><code>. svy: logit adoption i.age_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 7 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m2.png" width="788" style="display: block; margin: auto;" /></p>
</div>
<pre><code>. svy: logit discontinue i.age_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 1 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m3.png" width="760" style="display: block; margin: auto;" /></p>
</div>
<pre><code>. svy: logit discontinue i.age_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 7 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m4.png" width="795" style="display: block; margin: auto;" /></p>
</div>
<h2 id="logistic-regressions-with-parity">Logistic regressions with
parity</h2>
<pre><code>. svy: logit adoption i.age_rec i.birth_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 1 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m5.png" width="801" style="display: block; margin: auto;" /></p>
</div>
<pre><code>. svy: logit adoption i.age_rec i.birth_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 7 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m6.png" width="788" style="display: block; margin: auto;" /></p>
</div>
<pre><code>. svy: logit discontinue i.age_rec i.birth_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 1 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m7.png" width="771" style="display: block; margin: auto;" /></p>
</div>
<pre><code>. svy: logit discontinue i.age_rec i.birth_rec urban i.wealtht_2 i.educattgen_2 
cvincomeloss_2 i.covidconcern_2 if country == 7 </code></pre>
<div class="layout-chunk" data-layout="l-body">
<p><img src="images/m8.png" width="776" style="display: block; margin: auto;" /></p>
</div>
<div class="sourceCode" id="cb49"><pre
class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="disqus-comments">
      <i class="fas fa-comments"></i>
      &nbsp;
      <span class="disqus-comment-count" data-disqus-identifier="posts/2022-06-15-phase2-webinar/">Comment on this article</span>
    </span>
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Webinar%3A%20Did%20COVID-19%20Impact%20Contraceptive%20Use%3F&amp;url=https%3A%2F%2Fipums.github.io%2Fpma-data-hub%2Fposts%2F2022-06-15-phase2-webinar%2F" aria-label="share on twitter">
        <i class="fab fa-twitter" aria-hidden="true"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fipums.github.io%2Fpma-data-hub%2Fposts%2F2022-06-15-phase2-webinar%2F&amp;title=Webinar%3A%20Did%20COVID-19%20Impact%20Contraceptive%20Use%3F" aria-label="share on linkedin">
        <i class="fab fa-linkedin" aria-hidden="true"></i>
      </a>
    </span>
  </p>
  <script id="dsq-count-scr" src="https://pma-data-hub.disqus.com/count.js" async></script>
  <div id="disqus_thread" class="hidden"></div>
  <script type="text/javascript" cookie-consent="functionality">
var disqus_config = function () {
  this.page.url = 'https://ipums.github.io/pma-data-hub/posts/2022-06-15-phase2-webinar/';
  this.page.identifier = 'posts/2022-06-15-phase2-webinar/';
};
(function() {
  var d = document, s = d.createElement('script');
  s.src = 'https://pma-data-hub.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="updates-and-corrections">Corrections</h3>
  <p>If you see mistakes or want to suggest changes, please <a href="https://github.com/ipums/pma-data-hub/issues/new">create an issue</a> on the source repository.</p>
</div>
<!--/radix_placeholder_appendices-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/REC-html40/loose.dtd">
<!--radix_placeholder_navigation_after_body--><html><body>
<div class="distill-site-nav distill-site-footer">
<p>Developed by <a href="https://www.ipums.org">IPUMS</a> at the
University of Minnesota</p>
<p>Licensed under the
<a href="https://www.mozilla.org/en-US/MPL/2.0/">Mozilla Public License
Version 2.0</a></p>
<p>Site built with <a href="https://rstudio.github.io/distill/">Distill
for R Markdown</a></p>
</div>
<!--/radix_placeholder_navigation_after_body-->
</body></html>


</body>

</html>
