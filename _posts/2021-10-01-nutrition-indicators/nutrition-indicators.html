<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Infant and Young Child Feeding (IYCF) Indicators for PMA Nutrition Data</title>

  <meta property="description" itemprop="description" content="Use WHO guidelines to calculate Minimum Dietary Diversity (MDD), Minimum Meal Frequency (MMF), and Minimum Acceptable Diet (MAD)."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2021-10-01"/>
  <meta property="article:created" itemprop="dateCreated" content="2021-10-01"/>
  <meta name="article:author" content="Matt Gunther"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Infant and Young Child Feeding (IYCF) Indicators for PMA Nutrition Data"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Use WHO guidelines to calculate Minimum Dietary Diversity (MDD), Minimum Meal Frequency (MMF), and Minimum Acceptable Diet (MAD)."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Infant and Young Child Feeding (IYCF) Indicators for PMA Nutrition Data"/>
  <meta property="twitter:description" content="Use WHO guidelines to calculate Minimum Dietary Diversity (MDD), Minimum Meal Frequency (MMF), and Minimum Acceptable Diet (MAD)."/>

  <!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=Indicators for assessing infant and young child feeding practices: Definitions and measurement methods;citation_publication_date=2021;citation_publisher=World Health Organization; the United Nations Children’s Fund (UNICEF)"/>
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","bibliography","nocite","categories","output"]}},"value":[{"type":"character","attributes":{},"value":["Infant and Young Child Feeding (IYCF) Indicators for PMA Nutrition Data"]},{"type":"character","attributes":{},"value":["Use WHO guidelines to calculate Minimum Dietary Diversity (MDD), Minimum Meal Frequency (MMF), and Minimum Acceptable Diet (MAD).\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation"]}},"value":[{"type":"character","attributes":{},"value":["Matt Gunther"]},{"type":"character","attributes":{},"value":["IPUMS PMA Senior Data Analyst"]}]}]},{"type":"character","attributes":{},"value":["10-01-2021"]},{"type":"character","attributes":{},"value":["cites.bib"]},{"type":"character","attributes":{},"value":["@Pinchoff2021-eo,\n@noauthor_2021-pl,\n@noauthor_2017-fw\n"]},{"type":"character","attributes":{},"value":["Nutrition","IYCF","Indicators","Data Manipulation"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_depth","toc_float"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["cites.bib","data/LHZdata.dta","data/Nuturion_Measurement_Innovations_DIGITAL.pdf","data/Pinchoff_2021_Environ._Res._Commun._3_065004.pdf","data/pma_00001.dat.gz","data/pma_00001.xml","data/pma_00002.dat.gz","data/pma_00002.xml","data/PMA_Burkina_Nutrition_Code.do","data/PMA2020-Burkina-R1-Nutrition-Brief-EN.pdf","data/restructure_round1.do","data/statacheatsheets.pdf","data/who-unicef-2021-indicators-for-assessing-iycf-practices.pdf","data/WRSI.dta","nutrition-indicators_files/anchor-4.2.2/anchor.min.js","nutrition-indicators_files/bowser-1.9.3/bowser.min.js","nutrition-indicators_files/distill-2.2.21/template.v2.js","nutrition-indicators_files/figure-html5/unnamed-chunk-14-1.png","nutrition-indicators_files/figure-html5/unnamed-chunk-16-1.png","nutrition-indicators_files/figure-html5/unnamed-chunk-20-1.png","nutrition-indicators_files/figure-html5/unnamed-chunk-22-1.png","nutrition-indicators_files/header-attrs-2.9/header-attrs.js","nutrition-indicators_files/jquery-1.11.3/jquery.min.js","nutrition-indicators_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="nutrition-indicators_files/header-attrs-2.9/header-attrs.js"></script>
  <script src="nutrition-indicators_files/jquery-1.11.3/jquery.min.js"></script>
  <script src="nutrition-indicators_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="nutrition-indicators_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="nutrition-indicators_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="nutrition-indicators_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Infant and Young Child Feeding (IYCF) Indicators for PMA Nutrition Data","description":"Use WHO guidelines to calculate Minimum Dietary Diversity (MDD), Minimum Meal Frequency (MMF), and Minimum Acceptable Diet (MAD).","authors":[{"author":"Matt Gunther","authorURL":"#","affiliation":"IPUMS PMA Senior Data Analyst","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-10-01T00:00:00.000+00:00","citationText":"Gunther, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Infant and Young Child Feeding (IYCF) Indicators for PMA Nutrition Data</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">Nutrition</div>
<div class="dt=tag">IYCF</div>
<div class="dt=tag">Indicators</div>
<div class="dt=tag">Data Manipulation</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Use WHO guidelines to calculate Minimum Dietary Diversity (MDD), Minimum Meal Frequency (MMF), and Minimum Acceptable Diet (MAD).</p></p>
</div>

<div class="d-byline">
  Matt Gunther  (IPUMS PMA Senior Data Analyst)
  
<br/>10-01-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#setup">Setup</a></li>
<li><a href="#minimum-age-with-century-month-codes">Minimum Age with Century Month Codes</a></li>
<li><a href="#mdd-minimum-dietary-diversity">MDD: Minimum Dietary Diversity</a></li>
<li><a href="#mmf-minimum-meal-frequency">MMF: Minimum Meal Frequency</a></li>
<li><a href="#mad-minimum-acceptable-diet">MAD: Minimum Acceptable Diet</a></li>
<li><a href="#next-steps">Next Steps</a></li>
</ul>
</nav>
</div>
<p>Global indicators for Infant and Young Child Feeding (IYCF) practices have been used in large-scale nutrition surveys like the Demographic and Health Surveys (DHS) and Multiple Indicator Cluster Surveys (MICS) since 2008. These indicators provide benchmark dietary standards necessary for healthy growth and development in children during the first two years of life.</p>
<p>In 2017 and 2018 - the same years that <a href="https://www.pmadata.org/technical-areas/nutrition">PMA nutrition surveys</a> were fielded in Burkina Faso and Kenya - the World Health Organization (WHO), UNICEF, and other international aid organizations convened an inter-agency review of IYCF guidelines. Their findings included recommendations for <em>revised</em> measures <a href="https://apps.who.int/iris/bitstream/handle/10665/340706/9789240018389-eng.pdf?sequence=1">outlined here</a>.</p>
<p>In this post, we’ll highlight three of the most commonly used IYCF indicators for children age 6-23 months, and we’ll show to calculate them with dietary recall data from the 2017 PMA nutrition survey from Burkina Faso. We’ll use the <em>revised</em> WHO definitions for:</p>
<ul>
<li>MDD: Minimum Dietary Diversity</li>
<li>MMF: Minimum Meal Frequency</li>
<li>MAD: Minimum Acceptable Diet</li>
</ul>
<h1 id="setup">Setup</h1>
<p>While you’ll be able to use the code in this post for any of the four PMA nutrition samples, we’ll focus on a data extract containing <em>only</em> the Burkina Faso 2017 sample. We’ve selected cases marked “Females and Children with Nutrition Information,” dropping all other household members from the file.</p>
<p>We’ll load the data extract into R with the packages <a href="http://tech.popdata.org/ipumsr/">ipumsr</a> and <a href="https://tidyverse.tidyverse.org/">tidyverse</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://www.ipums.org'>ipumsr</a></span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>

<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/pkg/ipumsr/man/read_ipums_micro.html'>read_ipums_micro</a></span><span class='op'>(</span>
  ddi <span class='op'>=</span> <span class='st'>"data/pma_00002.xml"</span>,
  data <span class='op'>=</span> <span class='st'>"data/pma_00002.dat.gz"</span>
<span class='op'>)</span>
</code></pre>
</div>
</div>
<p>For all graphs in this post, we’ll use a custom <a href="https://ggplot2.tidyverse.org/index.html">ggplot2</a> theme we’ll call <code>theme_pma</code>. Check out <a href="../2021-07-15-covid-likert/">this post</a> for more information about how to develop and use a graphics theme like this one:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='fu'>sysfonts</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add.html'>font_add</a></span><span class='op'>(</span>
  family <span class='op'>=</span> <span class='st'>"cabrito"</span>, 
  regular <span class='op'>=</span> <span class='st'>"../../fonts/cabritosansnormregular-webfont.ttf"</span>
<span class='op'>)</span>
<span class='fu'>showtext</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='va'>theme_pma</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>title</span>, <span class='va'>subtitle</span><span class='op'>)</span><span class='op'>{</span>
  <span class='va'>components</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>
    <span class='fu'>theme_minimal</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%+replace%</span> 
      <span class='fu'>theme</span><span class='op'>(</span>
        text <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"cabrito"</span>, size <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>, 
        plot.title <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>
          size <span class='op'>=</span> <span class='fl'>18</span>, color <span class='op'>=</span> <span class='st'>"#00263A"</span>, margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span>
        <span class='op'>)</span>, 
        plot.subtitle <span class='op'>=</span> <span class='fu'>element_text</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>12</span>, margin <span class='op'>=</span> <span class='fu'>margin</span><span class='op'>(</span>b <span class='op'>=</span> <span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>,
        legend.title <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,        
        panel.grid.minor <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,     
        axis.ticks <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>,          
        legend.position <span class='op'>=</span> <span class='st'>"bottom"</span>,
        panel.spacing <span class='op'>=</span> <span class='fu'>unit</span><span class='op'>(</span><span class='fl'>4</span>, <span class='st'>"lines"</span><span class='op'>)</span>, 
        strip.text <span class='op'>=</span> <span class='fu'>element_blank</span><span class='op'>(</span><span class='op'>)</span>
      <span class='op'>)</span>,
    <span class='fu'>scale_fill_manual</span><span class='op'>(</span>
      values <span class='op'>=</span> <span class='fu'>alpha</span><span class='op'>(</span>
        alpha <span class='op'>=</span> <span class='fl'>.85</span>,
        colour <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span>
          <span class='st'>"#98579B"</span>,   <span class='co'># PMA Pink</span>
          <span class='st'>"#00263A"</span>,  <span class='co'># IPUMS Navy</span>
          <span class='st'>"#81A88D"</span>   <span class='co'># Green</span>
        <span class='op'>)</span>
      <span class='op'>)</span>
    <span class='op'>)</span>,
    <span class='fu'>labs</span><span class='op'>(</span>
      title <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/chartr.html'>toupper</a></span><span class='op'>(</span><span class='va'>title</span><span class='op'>)</span>,
      subtitle <span class='op'>=</span> <span class='va'>subtitle</span>,
      x <span class='op'>=</span> <span class='cn'>NULL</span>,
      y <span class='op'>=</span> <span class='cn'>NULL</span>,
      fill <span class='op'>=</span> <span class='cn'>NULL</span>
    <span class='op'>)</span>,
    <span class='fu'><a href='https://rdrr.io/r/graphics/plot.window.html'>ylim</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>100</span><span class='op'>)</span>
  <span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<h1 id="minimum-age-with-century-month-codes">Minimum Age with Century Month Codes</h1>
<p>The IYCF indicators we’ll calculate below <em>only</em> apply to infants who were between 6 and 23 months of age on the day of the nutrition interview. We know the birth month <a href="https://pma.ipums.org/pma-action/variables/KIDBIRTHMO">KIDBIRTHMO</a> and year <a href="https://pma.ipums.org/pma-action/variables/KIDBIRTHYR">KIDBIRTHYR</a> for each sampled child, but the interview month <a href="https://pma.ipums.org/pma-action/variables/INTFCQMON">INTFCQMON</a> and year <a href="https://pma.ipums.org/pma-action/variables/INTFCQYEAR">INTFCQYEAR</a> are only reported on the record for the woman who responded on their behalf (usually the child’s mother). In order to calculate each child’s age, we’ll need to use the procedure outlined in our <a href="../2021-09-15-nutrition-linking/">last post</a> to identify the mother for each child living in a household where nutrition surveys were administered in more than one month.</p>
<p>To make this calculation easier, we’ll combine each <strong>month</strong> and <strong>year</strong> into a single <strong>century month code (CMC)</strong>. Dates reported as a CMC reflect the number of months since January 1900:</p>
<p><span class="math display">\[CMC = 12*(Year – 1900) + Month\]</span></p>
<p>You’ll find CMC dates in many demographic surveys because they make it easy to measure the minimum passage of time between two events (particularly when the exact day is unknown). In our case, we’ll subtract the CMC code for each child’s birthdate <code>KIDBIRTHCMC</code> from the CMC code for the nutrition interview <code>INTFCQCMC</code>; we’ll then subtract one <em>additional</em> month to account for births that happened <em>nearer to the end of the birth month</em> than the date of the interview was to the end of the interview month.</p>
<p>For example, imagine a child born on January 1, 2017 and whose nutrition interview happened on February 1, 2017. The CMC code for their birthdate would be calculated as:</p>
<p><span class="math display">\[\begin{eqnarray} 
KIDBIRTHCMC &amp;=&amp; 12*(2017 – 1900) + 1 \\ 
&amp;=&amp; 1405
\end{eqnarray}\]</span></p>
<p>And the CMC code for their interview date would be:</p>
<p><span class="math display">\[\begin{eqnarray} 
INTFCQCMC &amp;=&amp; 12*(2017 – 1900) + 2 \\
&amp;=&amp; 1406
\end{eqnarray}\]</span></p>
<p>Suppose we calculate each child’s age in months <code>KIDAGEMO</code> by subtracting <code>KIDBIRTHCMC</code> from <code>INTFCQCMC</code>:</p>
<p><span class="math display">\[\begin{eqnarray} 
KIDAGEMO &amp;=&amp; INTFCQCMC - KIDBIRTHCMC \\
&amp;=&amp; 1406 - 1405 \\ 
&amp;=&amp; 1
\end{eqnarray}\]</span></p>
<p>This particular child aged one complete month between January 1 and February 1, so our calculation for <code>KIDAGEMO</code> works out. Unfortunately, this creates incorrect calculations for all of the children born <em>after</em> January 1, since they won’t have aged one complete month by February 1. In practice, we don’t know the precise day of either event; this is why we subtract an <em>additional month</em> in our calculation for <code>KIDAGEMO</code>, which reports each child’s <em>minimum age</em> in months.</p>
<p><span class="math display">\[\begin{eqnarray} 
KIDAGEMO &amp;=&amp; INTFCQCMC - KIDBIRTHCMC - 1\\
&amp;=&amp; 1406 - 1405 -1 \\ 
&amp;=&amp; 0
\end{eqnarray}\]</span></p>
<p>Note that all of the date variables contain special top-codes designating missing values; we’ll use <a href="https://dplyr.tidyverse.org/reference/case_when.html">dplyr::case_when</a> to calculate CMC codes <em>only</em> for non-missing dates (all other cases will be marked <code>NA</code> automatically).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>
    KIDBIRTHCMC <span class='op'>=</span> <span class='fu'>case_when</span><span class='op'>(</span>
      <span class='va'>KIDBIRTHMO</span> <span class='op'>&lt;=</span> <span class='fl'>12</span> <span class='op'>&amp;</span> <span class='va'>KIDBIRTHYR</span> <span class='op'>&lt;=</span> <span class='fl'>2017</span> <span class='op'>~</span> 
        <span class='fl'>12</span><span class='op'>*</span><span class='op'>(</span><span class='va'>KIDBIRTHYR</span> <span class='op'>-</span> <span class='fl'>1900</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>KIDBIRTHMO</span>
    <span class='op'>)</span>,
    INTFCQCMC <span class='op'>=</span> <span class='fu'>case_when</span><span class='op'>(</span>
      <span class='va'>INTFCQMON</span> <span class='op'>&lt;=</span> <span class='fl'>12</span> <span class='op'>&amp;</span> <span class='va'>INTFCQYEAR</span> <span class='op'>&lt;=</span> <span class='fl'>2017</span> <span class='op'>~</span> 
        <span class='fl'>12</span><span class='op'>*</span><span class='op'>(</span><span class='va'>INTFCQYEAR</span> <span class='op'>-</span> <span class='fl'>1900</span><span class='op'>)</span> <span class='op'>+</span> <span class='va'>INTFCQMON</span>
    <span class='op'>)</span>
  <span class='op'>)</span>
</code></pre>
</div>
</div>
<p>As we mentioned, the interview date is only located on the record for the <em>woman</em> in each household who provided nutrition information for herself <em>and</em> on behalf of each sampled child. As a result, <code>INTFCQCMC</code> is currently <code>NA</code> for each child.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>%&gt;%</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>ELIGTYPE</span>, <span class='va'>INTFCQCMC</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 7 x 3
                             ELIGTYPE INTFCQCMC     n
                            &lt;int+lbl&gt;     &lt;dbl&gt; &lt;int&gt;
1 11 [Infant under age 2 (INF)]              NA  2436
2 12 [Youngest aged 2-5 (YK)]                NA   343
3 13 [Older aged 2-5 (OTK)]                  NA  1032
4 20 [Selected women aged 10-49 (WN)]      1410  3008
5 20 [Selected women aged 10-49 (WN)]      1411  1231
6 20 [Selected women aged 10-49 (WN)]      1412   253
7 20 [Selected women aged 10-49 (WN)]      1413     2</code></pre>
</div>
<p>Before we can calculate the age of each child <code>KIDAGEMO</code>, we need to match each child to the correct woman who provided responses on their behalf (usually their mother). Following the steps outlined in our <a href="../2021-09-15-nutrition-linking/">last post</a>, we’ll group the data by household <a href="https://pma.ipums.org/pma-action/variables/HHID">HHID</a> and then perform a <a href="https://dplyr.tidyverse.org/reference/rowwise.html">rowwise</a> search for each person in the sample. If that person is a woman aged 10-49 (<code>ELIGTYPE == 20</code>), we’ll leave <code>INTFCQCMC</code> as-is; otherwise, we’ll use these criteria to determine <code>INTFCQCMC</code>:</p>
<ul>
<li>If all nutrition questionnaires administered in the household happened in the <em>same</em> month (or if only one nutrition questionnaire was administered), report the only <code>INTFCQCMC</code> available.</li>
<li>If women in the household received the nutrition questionnaire in <em>different</em> months, locate the woman in the household whose <a href="https://pma.ipums.org/pma-action/variables/AGE">AGE</a> and education level <a href="https://pma.ipums.org/pma-action/variables/EDUCATT">EDUCATT</a> match the available information about each child’s mother in <a href="https://pma.ipums.org/pma-action/variables/AGEMOM">AGEMOM</a> and <a href="https://pma.ipums.org/pma-action/variables/EDUCATTMOM">EDUCATTMOM</a>. Report the value in <code>INTFCQCMC</code> for the woman matched as the child’s mother.</li>
<li>If multiple women in the child’s household share the same <code>AGE</code> and education level <code>EDUCATT</code>, return <code>NA</code>. In this case, the interview date for the child cannot be determined.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span>  
  <span class='fu'>select</span><span class='op'>(</span>
    <span class='va'>HHID</span>, 
    <span class='va'>PERSONID</span>,
    <span class='va'>ELIGTYPE</span>, 
    <span class='va'>AGE</span>, 
    <span class='va'>AGEMOM</span>,
    <span class='va'>EDUCATT</span>, 
    <span class='va'>EDUCATTMOM</span>, 
    <span class='va'>INTFCQCMC</span>
  <span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>HHID</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>HH_DATA <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'>cur_data</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>  <span class='op'>%&gt;%</span> 
  <span class='fu'>rowwise</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>INTFCQCMC <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>ELIGTYPE</span> <span class='op'>==</span> <span class='fl'>20</span>, <span class='va'>INTFCQCMC</span>, <span class='op'>{</span>
    <span class='va'>unique_dates</span> <span class='op'>&lt;-</span> <span class='va'>HH_DATA</span> <span class='op'>%&gt;%</span> 
      <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='va'>INTFCQCMC</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
      <span class='fu'>distinct</span><span class='op'>(</span><span class='va'>INTFCQCMC</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
      <span class='fu'>pull</span><span class='op'>(</span><span class='va'>INTFCQCMC</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>unique_dates</span><span class='op'>)</span> <span class='op'>==</span> <span class='fl'>1</span>, <span class='va'>unique_dates</span>, <span class='op'>{</span>
      <span class='va'>agemom</span> <span class='op'>&lt;-</span> <span class='va'>AGEMOM</span>
      <span class='va'>educattmom</span> <span class='op'>&lt;-</span> <span class='va'>EDUCATTMOM</span>
      <span class='va'>moms</span> <span class='op'>&lt;-</span> <span class='va'>HH_DATA</span> <span class='op'>%&gt;%</span>
        <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>AGE</span> <span class='op'>==</span> <span class='va'>agemom</span>, <span class='va'>EDUCATT</span> <span class='op'>==</span> <span class='va'>educattmom</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
        <span class='fu'>pull</span><span class='op'>(</span><span class='va'>INTFCQCMC</span><span class='op'>)</span>
      <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>moms</span><span class='op'>)</span> <span class='op'>==</span> <span class='fl'>1</span>, <span class='va'>moms</span>, <span class='cn'>NA</span><span class='op'>)</span>
    <span class='op'>}</span><span class='op'>)</span>
  <span class='op'>}</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>select</span><span class='op'>(</span><span class='va'>PERSONID</span>, <span class='va'>INTFCQCMC</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>right_join</span><span class='op'>(</span><span class='va'>dat</span> <span class='op'>%&gt;%</span> <span class='fu'>select</span><span class='op'>(</span><span class='op'>!</span><span class='va'>INTFCQCMC</span><span class='op'>)</span>, by <span class='op'>=</span> <span class='st'>"PERSONID"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Let’s now check to see whether an interview date <code>INTFCQCMC</code> was determined for every child:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>%&gt;%</span> <span class='fu'>count</span><span class='op'>(</span><span class='va'>ELIGTYPE</span>, <span class='va'>INTFCQCMC</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code># A tibble: 14 x 3
                              ELIGTYPE INTFCQCMC     n
                             &lt;int+lbl&gt;     &lt;dbl&gt; &lt;int&gt;
 1 11 [Infant under age 2 (INF)]            1410  1663
 2 11 [Infant under age 2 (INF)]            1411   648
 3 11 [Infant under age 2 (INF)]            1412   124
 4 11 [Infant under age 2 (INF)]            1413     1
 5 12 [Youngest aged 2-5 (YK)]              1410   236
 6 12 [Youngest aged 2-5 (YK)]              1411    99
 7 12 [Youngest aged 2-5 (YK)]              1412     8
 8 13 [Older aged 2-5 (OTK)]                1410   746
 9 13 [Older aged 2-5 (OTK)]                1411   231
10 13 [Older aged 2-5 (OTK)]                1412    55
11 20 [Selected women aged 10-49 (WN)]      1410  3008
12 20 [Selected women aged 10-49 (WN)]      1411  1231
13 20 [Selected women aged 10-49 (WN)]      1412   253
14 20 [Selected women aged 10-49 (WN)]      1413     2</code></pre>
</div>
<p>Success! Now, we can calculate the minimum age of every sampled child as <code>KIDAGEMO</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> <span class='fu'>mutate</span><span class='op'>(</span>KIDAGEMO <span class='op'>=</span> <span class='va'>INTFCQCMC</span> <span class='op'>-</span> <span class='va'>KIDBIRTHCMC</span> <span class='op'>-</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>For the remainder of the post, we’ll focus on children who were <em>at least</em> 6 months of age defined by <code>KIDAGEMO</code>. Unfortunately, because precise ages are suppressed in the public IPUMS PMA dataset, we’ve <em>rounded down</em> and likely excluded some children who are, in reality, exactly 6 months of age. On the other hand, we’ll keep all children where <a href="https://pma.ipums.org/pma-action/variables/INFCHECK">INFCHECK</a> indicates that the respondent confirmed that the child was under 24 months of age (regardless of their recorded birthdate).</p>
<aside>
The official <a href="https://www.pmadata.org/sites/default/files/data_product_results/PMA2020-Burkina-R1-Nutrition-Brief-EN.pdf">PMA summary report</a>, which uses precise ages, shows a sample of <strong>1732 children aged 6-23 months</strong>. Our approximation yields a smaller sample with <strong>1706 children aged 6-23 months</strong>, a difference of 26 children.
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> <span class='fu'><a href='https://rdrr.io/r/stats/filter.html'>filter</a></span><span class='op'>(</span><span class='va'>KIDAGEMO</span> <span class='op'>&gt;=</span> <span class='fl'>6</span> <span class='op'>&amp;</span> <span class='va'>INFCHECK</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>For convenience, we’ll also create a factor <code>KIDAGEMO_3</code> that aggregates children into three groups:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>KIDAGEMO_3 <span class='op'>=</span> <span class='fu'>case_when</span><span class='op'>(</span>
    <span class='va'>KIDAGEMO</span> <span class='op'>&lt;</span> <span class='fl'>12</span> <span class='op'>~</span> <span class='st'>"6-11 months"</span>,
    <span class='va'>KIDAGEMO</span> <span class='op'>&lt;</span> <span class='fl'>18</span> <span class='op'>~</span> <span class='st'>"12-17 months"</span>,
    <span class='va'>KIDAGEMO</span> <span class='op'>&gt;=</span> <span class='fl'>18</span> <span class='op'>~</span> <span class='st'>"18-23 months"</span>
  <span class='op'>)</span> <span class='op'>%&gt;%</span> 
    <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span>levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"6-11 months"</span>, <span class='st'>"12-17 months"</span>, <span class='st'>"18-23 months"</span><span class='op'>)</span><span class='op'>)</span>
  <span class='op'>)</span> 
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<h1 id="mdd-minimum-dietary-diversity">MDD: Minimum Dietary Diversity</h1>
<p>WHO guidelines define Minimum Dietary Diversity (MDD) for children aged 6-23 months as <strong>consumption of food or beverages from at least 5 out of 8 defined food groups during the previous day</strong>. The PMA nutrition questionnaire for infants includes the following recall questions designed to meet the criteria for calculating MDD.</p>
<pre><code>Are you currently breastfeeding ${under_2yr_child_name}?

[] Yes
[] No


Now I will ask you about liquids that ${under_2yr_child_name} had 
yesterday during the day or at night. I am interested in whether your child had 
the item I mention even if it was combined with other foods.

Proceed to the next screen when ready.

Did ${under_2yr_child_name} eat or drink:

[] Plain water
[] Juice or juice base
[] Soup
[] Milk such as canned milk, powder or fresh animal milk
[] Primary milk / infant formula or marketed infant formula (Breastmilk 
   substitute: NAN, Nativa, Guigoz, etc.)
[] Sweet drinks (sodas, zom-koom, bissap, ginger juice)
[] Other liquids
[] Yogurt
[] A commercially prepared baby formula, such as Cerelac, vitacasui, vitaline
[] Porridge


Now I would like to ask you about foods that ${under_2yr_child_name} had 
yesterday during the day or at night. I am interested in whether your child had 
the item I mention even if it was combined with other foods.

Proceed to the next screen when ready.

Did ${under_2yr_child_name} eat or drink:

[] Any fortified food like Cerelac?
[] Maize, rice, wheat, thick porridge, sorghum, bread, or other foods made from 
   grains?
[] Pumpkin, carrots, squash or yellow sweet potatoes that are yellow or orange 
   inside
[] Irish potatoes, yams, cassava, white sweet potatoes, or any other foods made 
   from roots?
[] Sukumu wiki or any dark green, leafy vegetables?
[] Ripe mangoes, pawpaw and fruits that are orange or yellow inside?
[] Any other fruits or vegetables?
[] Liver, kidney, heart or other organ meats?
[] Any meat, such as beef, pork, lamb, goat, chicken, duck?
[] Eggs?
[] Fresh or dried fish or shellfish?
[] Any foods made from beans, peas, lentils, or nuts?
[] Cheese or other food made from milk?
[] Sugary foods, jiggery (sukari nguru), mandaazi, donuts, cake, sweet biscuits 
   or candies?
[] Savory snacks like fried chips, crisps, samosas, or other fried foods?
[] Any other solid, semi-solid or soft food?</code></pre>
<p>IPUMS PMA provides harmonized indicators for each of the response options shown. We’ll group the relevant options into each of the <strong>8 food groups</strong> defined in WHO guidelines for MDD.</p>
<ul>
<li>Breast Milk
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFBFNOW">INFBFNOW</a></li>
</ul></li>
<li>Grains, Roots, or Tubers
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTFORM">INFYESTFORM</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTPORR">INFYESTPORR</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTGRAIN">INFYESTGRAIN</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTWHTVEG">INFYESTWHTVEG</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTFORT">INFYESTFORT</a></li>
</ul></li>
<li>Legumes or Nuts
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTBEAN">INFYESTBEAN</a></li>
</ul></li>
<li>Dairy
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTMILK">INFYESTMILK</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTYOG">INFYESTYOG</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTFORMP">INFYESTFORMP</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTDAIRY">INFYESTDAIRY</a></li>
</ul></li>
<li>Flesh Foods
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTFISH">INFYESTFISH</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTMEAT">INFYESTMEAT</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTORG">INFYESTORG</a></li>
</ul></li>
<li>Eggs
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTEGG">INFYESTEGG</a></li>
</ul></li>
<li>Vitamin A-rich Fruits and Vegetables
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTYLWVEG">INFYESTYLWVEG</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTGRNVEG">INFYESTGRNVEG</a></li>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTYLWFRT">INFYESTYLWFRT</a></li>
</ul></li>
<li>Other Fruits and Vegetables
<ul>
<li><a href="https://pma.ipums.org/pma-action/variables/INFYESTOTHFRTVEG">INFYESTOTHFRTVEG</a></li>
</ul></li>
</ul>
<p>For each variable, the response code <code>1</code> indicates that the infant consumed the food yesterday (in <code>INFBFNOW</code>, it indicates that the child is currently being breastfed, so we assume that they were breastfed yesterday); we’ll label these responses <code>TRUE</code>. Because we removed all non-infant cases from our extract, we can safely collapse all of the remaining responses together as <code>FALSE</code> (the only remaining cases that are “NIU (not in universe)” are infants in <code>INFBFNOW</code> who were never breastfed).</p>
<p>We’ll create one “group” variable with the prefix <code>GRP_</code> for each food group. In cases where more than one harmonized variable is used, we’ll use <a href="https://dplyr.tidyverse.org/reference/across.html">dplyr::if_any</a> to indicate whether <em>any</em> of the constituent foods was eaten yesterday.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>
    GRP_BF <span class='op'>=</span> <span class='va'>INFBFNOW</span> <span class='op'>==</span> <span class='fl'>1</span>,
    GRP_NUT <span class='op'>=</span> <span class='va'>INFYESTBEAN</span> <span class='op'>==</span> <span class='fl'>1</span>,
    GRP_EGG <span class='op'>=</span> <span class='va'>INFYESTEGG</span> <span class='op'>==</span> <span class='fl'>1</span>,
    GRP_OTH <span class='op'>=</span> <span class='va'>INFYESTOTHFRTVEG</span> <span class='op'>==</span> <span class='fl'>1</span>,
    GRP_GRAIN <span class='op'>=</span> <span class='fu'>if_any</span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>INFYESTFORM</span>, <span class='va'>INFYESTPORR</span>, <span class='va'>INFYESTGRAIN</span>, <span class='va'>INFYESTWHTVEG</span>, <span class='va'>INFYESTFORT</span><span class='op'>)</span>,
      <span class='op'>~</span><span class='va'>.x</span> <span class='op'>==</span> <span class='fl'>1</span>
    <span class='op'>)</span>,
    GRP_DAIRY <span class='op'>=</span> <span class='fu'>if_any</span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>INFYESTMILK</span>, <span class='va'>INFYESTYOG</span>, <span class='va'>INFYESTFORMP</span>, <span class='va'>INFYESTDAIRY</span><span class='op'>)</span>,
      <span class='op'>~</span><span class='va'>.x</span> <span class='op'>==</span> <span class='fl'>1</span>
    <span class='op'>)</span>,
    GRP_FLESH <span class='op'>=</span> <span class='fu'>if_any</span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>INFYESTFISH</span>, <span class='va'>INFYESTMEAT</span>, <span class='va'>INFYESTORG</span><span class='op'>)</span>,
      <span class='op'>~</span><span class='va'>.x</span> <span class='op'>==</span> <span class='fl'>1</span>
    <span class='op'>)</span>,
    GRP_VITA <span class='op'>=</span> <span class='fu'>if_any</span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>INFYESTYLWVEG</span>, <span class='va'>INFYESTGRNVEG</span>, <span class='va'>INFYESTYLWFRT</span><span class='op'>)</span>,
      <span class='op'>~</span><span class='va'>.x</span> <span class='op'>==</span> <span class='fl'>1</span>
    <span class='op'>)</span>
  <span class='op'>)</span> 
</code></pre>
</div>
</div>
<p>Let’s preview the proportion of infants in each age range from <code>KIDAGEMO_3</code> who consumed foods from each of the <strong>8 food groups</strong> yesterday. First, we’ll make a summary table with <a href="https://dplyr.tidyverse.org/reference/summarise.html">dplyr::summarise</a> showing the proportion of children in each age range that consumed foods from each group:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>grp_summary</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>KIDAGEMO_3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span><span class='fu'>across</span><span class='op'>(</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"GRP"</span><span class='op'>)</span>, <span class='op'>~</span><span class='fl'>100</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> 

<span class='va'>grp_summary</span>
</code></pre>
</div>
<pre><code># A tibble: 3 x 9
  KIDAGEMO_3   GRP_BF GRP_NUT GRP_EGG GRP_OTH GRP_GRAIN GRP_DAIRY
  &lt;fct&gt;         &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 6-11 months    94.6    6.95    4.90    5.69      83.6      20.2
2 12-17 months   95.5    8.80   11.3     8.47      90.5      26.2
3 18-23 months   70.1   14.0    11.0    11.3       94.7      24.6
# … with 2 more variables: GRP_FLESH &lt;dbl&gt;, GRP_VITA &lt;dbl&gt;</code></pre>
</div>
<p>We’ll use <a href="https://tidyr.tidyverse.org/reference/pivot_longer.html">tidyr::pivot_longer</a> to create a long version of the table containing labels for each food group written <em>exactly</em> as we want them to appear on a <a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>grp_summary</span> <span class='op'>&lt;-</span> <span class='va'>grp_summary</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pivot_longer</span><span class='op'>(</span>
    <span class='op'>!</span><span class='va'>KIDAGEMO_3</span>,
    names_pattern <span class='op'>=</span> <span class='st'>"GRP_(.*)"</span>,
    names_to <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"group"</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>
    group <span class='op'>=</span> <span class='va'>group</span> <span class='op'>%&gt;%</span> 
      <span class='fu'><a href='https://forcats.tidyverse.org/reference/as_factor.html'>as_factor</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
      <span class='fu'>fct_relevel</span><span class='op'>(</span><span class='st'>"GRAIN"</span>, <span class='st'>"NUT"</span>, <span class='st'>"FLESH"</span>, <span class='st'>"EGG"</span>, <span class='st'>"VITA"</span>, <span class='st'>"OTH"</span>, <span class='st'>"DAIRY"</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
      <span class='fu'>fct_recode</span><span class='op'>(</span>
        `Grains, roots, \n tubers` <span class='op'>=</span> <span class='st'>"GRAIN"</span>,
        `Legumes and nuts` <span class='op'>=</span> <span class='st'>"NUT"</span>,
        `Flesh foods \n (meat, fish, poultry)` <span class='op'>=</span> <span class='st'>"FLESH"</span>,
        `Eggs` <span class='op'>=</span> <span class='st'>"EGG"</span>,
        `Vitamin A-rich \n fruits / veg` <span class='op'>=</span> <span class='st'>"VITA"</span>,
        `Other \n fruits / veg` <span class='op'>=</span> <span class='st'>"OTH"</span>,
        `Dairy` <span class='op'>=</span> <span class='st'>"DAIRY"</span>,
        `Breastmilk` <span class='op'>=</span> <span class='st'>"BF"</span>
      <span class='op'>)</span>
  <span class='op'>)</span>

<span class='va'>grp_summary</span>
</code></pre>
</div>
<pre><code># A tibble: 24 x 3
   KIDAGEMO_3   group                                  value
   &lt;fct&gt;        &lt;fct&gt;                                  &lt;dbl&gt;
 1 6-11 months  &quot;Breastmilk&quot;                           94.6 
 2 6-11 months  &quot;Legumes and nuts&quot;                      6.95
 3 6-11 months  &quot;Eggs&quot;                                  4.90
 4 6-11 months  &quot;Other \n fruits / veg&quot;                 5.69
 5 6-11 months  &quot;Grains, roots, \n tubers&quot;             83.6 
 6 6-11 months  &quot;Dairy&quot;                                20.2 
 7 6-11 months  &quot;Flesh foods \n (meat, fish, poultry)&quot; 25.6 
 8 6-11 months  &quot;Vitamin A-rich \n fruits / veg&quot;       49.1 
 9 12-17 months &quot;Breastmilk&quot;                           95.5 
10 12-17 months &quot;Legumes and nuts&quot;                      8.80
# … with 14 more rows</code></pre>
</div>
<p>Now, we’ll create a <a href="../2021-08-01-covid-batches/#bar-charts">grouped bar chart</a> using the custom <code>theme_pma</code> created above.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre><code><span class='va'>grp_summary</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>KIDAGEMO_3</span>, x <span class='op'>=</span> <span class='va'>group</span>, y <span class='op'>=</span> <span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_bar</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>.6</span>, position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_pma</span><span class='op'>(</span>
    title <span class='op'>=</span> <span class='st'>"Infant consumption of MDD food groups"</span>,
    subtitle <span class='op'>=</span> <span class='st'>"Consumption of foods from 5 of 8 groups is required for MDD"</span>
  <span class='op'>)</span>
</code></pre>
</div>
<p><img src="nutrition-indicators_files/figure-html5/unnamed-chunk-14-1.png" width="960" /></p>
</div>
<p>Finally, we’ll calculate <code>MDD</code>. Because <code>MDD</code> combines indicators from multiple columns, we’ll use <a href="https://dplyr.tidyverse.org/reference/c_across.html">dplyr::c_across</a>. If the total sum of values in all columns with the prefix <code>GRP</code> is at least 5, the child will meet the WHO criteria for “Minimum Dietary Diversity.”</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rowwise</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>MDD <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>c_across</span><span class='op'>(</span><span class='fu'><a href='https://tidyselect.r-lib.org/reference/starts_with.html'>starts_with</a></span><span class='op'>(</span><span class='st'>"GRP"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>&gt;=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span> 
</code></pre>
</div>
</div>
<p>We’ll add <code>MDD</code> as a <a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet</a> to the plot we made above.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>KIDAGEMO_3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>summarise</span><span class='op'>(</span>group <span class='op'>=</span> <span class='st'>"MDD"</span>, value <span class='op'>=</span> <span class='fl'>100</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>MDD</span><span class='op'>)</span>, aside <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>bind_rows</span><span class='op'>(</span><span class='va'>grp_summary</span> <span class='op'>%&gt;%</span> <span class='fu'>mutate</span><span class='op'>(</span>aside <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>KIDAGEMO_3</span>, x <span class='op'>=</span> <span class='va'>group</span>, y <span class='op'>=</span> <span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_bar</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>0.8</span>, position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span><span class='fl'>0.8</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>facet_grid</span><span class='op'>(</span>
    cols <span class='op'>=</span> <span class='fu'>vars</span><span class='op'>(</span><span class='va'>aside</span><span class='op'>)</span>, 
    scales <span class='op'>=</span> <span class='st'>"free_x"</span>, 
    space <span class='op'>=</span> <span class='st'>"free_x"</span>,
  <span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>theme_pma</span><span class='op'>(</span>
    title <span class='op'>=</span> <span class='st'>"Minimum Dietary Diversity (MDD) in Infants 6-23 Months"</span>,
    subtitle <span class='op'>=</span> <span class='st'>"Consumption of foods from 5 of 8 groups is required for MDD"</span>
  <span class='op'>)</span> 
</code></pre>
</div>
<p><img src="nutrition-indicators_files/figure-html5/unnamed-chunk-16-1.png" width="960" /></p>
</div>
<h1 id="mmf-minimum-meal-frequency">MMF: Minimum Meal Frequency</h1>
<p>In order to achieve Minimum Meal Frequency (MMF), WHO guidelines recommend that an infant should receive solid, semi-solid, or soft foods multiple times during the previous day. The precise quantity of meals depends on the child’s <strong>age</strong> and whether they are <strong>breastfed</strong>:</p>
<ul>
<li><strong>Breastfed infants aged 6-8 months</strong> should receive <strong>two</strong> feedings of solid, semi-solid or soft foods</li>
<li><strong>Breastfed infants aged 9-23 months</strong> should receive <strong>three</strong> feedings of of solid, semi-solid or soft foods</li>
<li><strong>Non-breastfed infants aged 6-23 months</strong> should receive <strong>four</strong> feedings of solid, semi-solid or soft foods <strong>or milk feeds</strong>, provided that at least one of the feedings includes solid, semi-solid or soft foods</li>
</ul>
<p>Here, a “feeding” includes both meals and snacks, and “milk feeds” include “any formula (e.g. infant formula, follow-on formula, “toddler milk”) or any animal milk other than human breast milk, (e.g. cow milk, goat milk, evaporated milk or reconstituted powdered milk) as well as semi-solid and fluid/drinkable yogurt and other fluid/drinkable fermented products made with animal milk".<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>Following this definition, we’ll first calculate the combined total number of <code>MILKFEEDS</code> from <a href="https://pma.ipums.org/pma-action/variables/INFMILKNUM">INFMILKNUM</a>, <a href="https://pma.ipums.org/pma-action/variables/INFYOGNUM">INFYOGNUM</a>, and <a href="https://pma.ipums.org/pma-action/variables/INFFORMNUM">INFFORMNUM</a>; then, we’ll combine <code>MILKFEEDS</code> with <a href="https://pma.ipums.org/pma-action/variables/INFFOODNUM">INFFOODNUM</a> appropriately for each child to create <code>MMF</code>.</p>
<p>For each <code>NUM</code> variable, we should be careful to note the reason why cases may appear “NIU (not in universe)”: these are children whose mother answered in a previous question that they <em>did not consume the food yesterday</em>. We’ll re-code these NIU cases as 0, rather than treat them as “missing.” On the other hand, we’ll assign the value <code>NA</code> to any child whose mother “did not know” whether they received the food yesterday.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>
    <span class='fu'>across</span><span class='op'>(</span>
      <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>INFMILKNUM</span>, <span class='va'>INFYOGNUM</span>, <span class='va'>INFFORMNUM</span>, <span class='va'>INFFOODNUM</span><span class='op'>)</span>, 
      <span class='op'>~</span><span class='fu'>case_when</span><span class='op'>(</span><span class='va'>.x</span> <span class='op'>&lt;</span> <span class='fl'>90</span> <span class='op'>~</span> <span class='fu'><a href='https://rdrr.io/r/base/integer.html'>as.integer</a></span><span class='op'>(</span><span class='va'>.x</span><span class='op'>)</span><span class='op'>)</span>
    <span class='op'>)</span>,
    INFMILKNUM <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>INFYESTMILK</span> <span class='op'>==</span> <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='va'>INFMILKNUM</span><span class='op'>)</span>,
    INFYOGNUM <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>INFYESTYOG</span> <span class='op'>==</span> <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='va'>INFYOGNUM</span><span class='op'>)</span>,
    INFFORMNUM <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>INFYESTFORMP</span> <span class='op'>==</span> <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='va'>INFFORMNUM</span><span class='op'>)</span>, 
    INFFOODNUM <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>INFFOODYEST</span> <span class='op'>==</span> <span class='fl'>0</span>, <span class='fl'>0</span>, <span class='va'>INFFOODNUM</span><span class='op'>)</span>,
  <span class='op'>)</span>  
</code></pre>
</div>
</div>
<p>Now, we’ll calculate <code>MILKFEEDS</code> as a <code>sum</code> of the three constituent <code>NUM</code> variables for dairy products (unless all are <code>NA</code>, in which case we’ll return <code>NA</code>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>rowwise</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>MILKFEEDS <span class='op'>=</span> <span class='fu'>case_when</span><span class='op'>(</span>
    <span class='op'>!</span><span class='fu'>if_all</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>INFMILKNUM</span>, <span class='va'>INFYOGNUM</span>, <span class='va'>INFFORMNUM</span><span class='op'>)</span>, <span class='va'>is.na</span><span class='op'>)</span> <span class='op'>~</span> 
      <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='fu'>c_across</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='va'>INFMILKNUM</span>, <span class='va'>INFYOGNUM</span>, <span class='va'>INFFORMNUM</span><span class='op'>)</span><span class='op'>)</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ungroup</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Finally, we’ll use <code>case_when</code> to apply separate calculations of <code>MMF</code> depending on whether the child is under 9 months, and whether they are breastfeeding.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>MMF <span class='op'>=</span> <span class='fu'>case_when</span><span class='op'>(</span>
    <span class='va'>KIDAGEMO</span> <span class='op'>&lt;</span> <span class='fl'>9</span> <span class='op'>&amp;</span> <span class='va'>GRP_BF</span> <span class='op'>~</span> <span class='va'>INFFOODNUM</span> <span class='op'>&gt;=</span> <span class='fl'>2</span>,
    <span class='va'>KIDAGEMO</span> <span class='op'>&gt;=</span> <span class='fl'>9</span> <span class='op'>&amp;</span> <span class='va'>GRP_BF</span> <span class='op'>~</span> <span class='va'>INFFOODNUM</span> <span class='op'>&gt;=</span> <span class='fl'>3</span>,
    <span class='op'>!</span><span class='va'>GRP_BF</span> <span class='op'>~</span> <span class='va'>INFFOODNUM</span> <span class='op'>+</span> <span class='va'>MILKFEEDS</span> <span class='op'>&gt;=</span> <span class='fl'>4</span> <span class='op'>&amp;</span> <span class='va'>INFFOODNUM</span> <span class='op'>&gt;=</span> <span class='fl'>1</span>
  <span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Let’s compare the percentage of children who achieved <code>MMF</code> to the percentage who achieved <code>MDD</code> as shown above.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>KIDAGEMO_3</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarise</span><span class='op'>(</span>MDD <span class='op'>=</span> <span class='fl'>100</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>MDD</span><span class='op'>)</span>, MMF <span class='op'>=</span> <span class='fl'>100</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>MMF</span>, na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pivot_longer</span><span class='op'>(</span><span class='op'>!</span><span class='va'>KIDAGEMO_3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>name <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>name</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"MDD"</span>, <span class='st'>"MMF"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>KIDAGEMO_3</span>, x <span class='op'>=</span> <span class='va'>name</span>, y <span class='op'>=</span> <span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_bar</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>0.6</span>, position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_text</span><span class='op'>(</span>
    <span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>value</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>, 
    position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span>,
    vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.5</span>
  <span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_pma</span><span class='op'>(</span>
    title <span class='op'>=</span> <span class='st'>"Key IYCF Indicators for Infants Age 6-23 Months"</span>,
    subtitle <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span>
      <span class='st'>"Minimum Dietary Diversity (MDD)"</span>,
      <span class='st'>"and Minimum Meal Frequency (MMF)"</span>
    <span class='op'>)</span>
  <span class='op'>)</span> 
</code></pre>
</div>
<p><img src="nutrition-indicators_files/figure-html5/unnamed-chunk-20-1.png" width="960" /></p>
</div>
<h1 id="mad-minimum-acceptable-diet">MAD: Minimum Acceptable Diet</h1>
<p>Lastly, the WHO definition for <strong>Minimum Acceptable Diet (MAD)</strong> combines the two measures we’ve calculated above. MAD uses separate crieteria for breastfed and non-breastfed children:</p>
<ul>
<li><strong>Breastfed children</strong> should achieve both MDD and MMF - as appropriately defined for their age - during the previous day</li>
<li><strong>Non-breastfed children</strong> should achieve both MDD and MMF - as appropriately defined for their age - during the previous day <em>and also receive at least two milk feeds</em>.</li>
</ul>
<p>We’ve already defined all of the intermediate variables needed to calculate <code>MAD</code>, so we’ll simply combine them as appropriate for <strong>breastfed</strong> and <strong>non-breastfed</strong> children with one final <code>case_when</code> function:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>MAD <span class='op'>=</span> <span class='fu'>case_when</span><span class='op'>(</span>
    <span class='va'>GRP_BF</span> <span class='op'>~</span> <span class='va'>MMF</span> <span class='op'>&amp;</span> <span class='va'>MDD</span>,
    <span class='op'>!</span><span class='va'>GRP_BF</span> <span class='op'>~</span> <span class='va'>MMF</span> <span class='op'>&amp;</span> <span class='va'>MDD</span> <span class='op'>&amp;</span> <span class='va'>MILKFEEDS</span> <span class='op'>&gt;=</span> <span class='fl'>2</span>
  <span class='op'>)</span><span class='op'>)</span> 
</code></pre>
</div>
</div>
<p>To wrap up, we’ll add <code>MAD</code> to the chart we made comparing <code>MDD</code> and <code>MMF</code>.</p>
<div class="layout-chunk" data-layout="l-page">
<div class="sourceCode">
<pre><code><span class='va'>dat</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>group_by</span><span class='op'>(</span><span class='va'>KIDAGEMO_3</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>summarise</span><span class='op'>(</span>
    MDD <span class='op'>=</span> <span class='fl'>100</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>MDD</span><span class='op'>)</span>, 
    MMF <span class='op'>=</span> <span class='fl'>100</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>MMF</span>, na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>,
    MAD <span class='op'>=</span> <span class='fl'>100</span><span class='op'>*</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>MAD</span>, na.rm <span class='op'>=</span> <span class='cn'>T</span><span class='op'>)</span>
  <span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>pivot_longer</span><span class='op'>(</span><span class='op'>!</span><span class='va'>KIDAGEMO_3</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>mutate</span><span class='op'>(</span>name <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>name</span>, levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"MDD"</span>, <span class='st'>"MMF"</span>, <span class='st'>"MAD"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>%&gt;%</span> 
  <span class='fu'>ggplot</span><span class='op'>(</span><span class='fu'>aes</span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>KIDAGEMO_3</span>, x <span class='op'>=</span> <span class='va'>name</span>, y <span class='op'>=</span> <span class='va'>value</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_bar</span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>0.6</span>, position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span>, stat <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span> 
  <span class='fu'>geom_text</span><span class='op'>(</span>
    <span class='fu'>aes</span><span class='op'>(</span>label <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='va'>value</span>, <span class='fl'>1</span><span class='op'>)</span><span class='op'>)</span>, 
    position <span class='op'>=</span> <span class='fu'>position_dodge</span><span class='op'>(</span><span class='fl'>0.6</span><span class='op'>)</span>,
    vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>0.5</span>
  <span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'>theme_pma</span><span class='op'>(</span>
    title <span class='op'>=</span> <span class='st'>"IYCF Indicators for Infants Age 6-23 Months"</span>,
    subtitle <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span>
      <span class='st'>"Minimum Dietary Diversity (MDD),"</span>,
      <span class='st'>"Minimum Meal Frequency (MMF), \n"</span>,
      <span class='st'>"and Minimum Acceptable Diet (MAD)"</span>
    <span class='op'>)</span>
  <span class='op'>)</span> 
</code></pre>
</div>
<p><img src="nutrition-indicators_files/figure-html5/unnamed-chunk-22-1.png" width="960" data-distill-preview=1 /></p>
</div>
<h1 id="next-steps">Next Steps</h1>
<p>In the coming weeks, we’ll show how researchers have used the IYCF indicators we’ve created to learn more about environmental and household factors that contribute to child malnutrition. We’ll also dig into supplementary data sources that connect food security outcomes with local agricultural conditions. In the meantime, make sure to connect with us <a href="https://twitter.com/ipumsGH">on Twitter</a> and let us know how you’re using PMA Nutrition data.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-noauthor_2021-pl" class="csl-entry" role="doc-biblioentry">
<span>“Indicators for Assessing Infant and Young Child Feeding Practices: Definitions and Measurement Methods.”</span> 2021. World Health Organization; the United Nations Children’s Fund (UNICEF). <a href="https://apps.who.int/iris/bitstream/handle/10665/340706/9789240018389-eng.pdf?sequence=1">https://apps.who.int/iris/bitstream/handle/10665/340706/9789240018389-eng.pdf?sequence=1</a>.
</div>
<div id="ref-Pinchoff2021-eo" class="csl-entry" role="doc-biblioentry">
Pinchoff, Jessie, William Turner, and Kathryn Grace. 2021. <span>“The Association Between Agricultural Conditions and Multiple Dimensions of Undernutrition in Children 6-23 Months of Age in Burkina Faso.”</span> <em>Environmental Research Communications</em> 3 (6): 065004. <a href="https://iopscience.iop.org/article/10.1088/2515-7620/ac07f5/meta">https://iopscience.iop.org/article/10.1088/2515-7620/ac07f5/meta</a>.
</div>
<div id="ref-noauthor_2017-fw" class="csl-entry" role="doc-biblioentry">
<span>“<span>Pma2020</span> Nutrition Survey - Burkina Faso: Key Results | September 2017.”</span> 2017. Performance Monitoring for Action. <a href="https://www.pmadata.org/sites/default/files/data_product_results/PMA2020-Burkina-R1-Nutrition-Brief-EN.pdf">https://www.pmadata.org/sites/default/files/data_product_results/PMA2020-Burkina-R1-Nutrition-Brief-EN.pdf</a>.
</div>
</div>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>see page 10, <span class="citation" data-cites="noauthor_2021-pl"><a href="#ref-noauthor_2021-pl" role="doc-biblioref"><span>“Indicators for Assessing Infant and Young Child Feeding Practices: Definitions and Measurement Methods”</span></a> (<a href="#ref-noauthor_2021-pl" role="doc-biblioref">2021</a>)</span><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
